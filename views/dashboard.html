<form name="Details">
    <div class="row col-12">
        <div class="col-lg-2 col-sm-3">
            <ul id="parentSideBarItem" style="padding-right: 0">
                <li id="sideBarItem-{{sideBarItem.Id}}" class="asp-label ability-list"
                    ng-click="getSideBar(sideBarItem)"
                    ng-repeat="sideBarItem in sideBarItems track by sideBarItem.Id"
                    style="text-align: right; cursor: pointer;">
                    <div class="card text-center big-font" ng-class="{'selected-list-group':sideBarItem.selected}"
                         style="padding: 10px">
                        {{sideBarItem.Title}}
                    </div>
                </li>
            </ul>
        </div>
        <div class="col-lg-10 col-sm-9">
            <!-- my info-->
            <div ng-if="selectedSideBar === 0 && !pageLoading">
                <div class="card">
                    <div class="card-header" style="padding: 0;">
                        <p class="asp-label" style="text-align: right; padding: 0 15px; margin: 5px 0;">
                            اطلاعات فردی
                        </p>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="row col-md-10">
                                <div class="col-lg-4 col-md-6">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text text-1">
                                                نام
                                            </label>
                                        </div>
                                        <input class="form-control" ng-model="selectedInfo.FirstName" readonly>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-6">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text text-1">
                                                نام خانوادگی
                                            </label>
                                        </div>
                                        <input class="form-control" ng-model="selectedInfo.LastName" readonly>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-6">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text text-1">
                                                نام پدر
                                            </label>
                                        </div>
                                        <input class="form-control" ng-model="selectedInfo.FatherName" readonly>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-6">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text text-1">
                                                شماره ملی
                                            </label>
                                        </div>
                                        <input class="form-control" ng-model="selectedInfo.NationalCode" readonly>
                                        <span title="مشاهده "
                                              ng-click="showNationalCodeModal(personel)">
                                            <i class="far fa-paperclip"></i>
                                       </span>
                                        <div class="modal fade" id="NationalCodeModal">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <p class="HeaderForm" ng-click="cancelNationalCodeModal()"><i
                                                            class="cancelIcon far fa-close"
                                                    ></i>مشاهده
                                                        کارت ملی</p>
                                                    <div class="modal-body m-0 p-0">
                                                        <div class="col-12">
                                                            <div class="card" style="height: 8em;">
                                                                <img width="inherit" height="115px"
                                                                     src="{{imageNationalCode}}"/>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-6">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text text-1">
                                                شماره شناسنامه
                                            </label>
                                        </div>
                                        <input class="form-control" ng-model="selectedInfo.BirthCertificateNo" readonly>
                                        <span title="مشاهده "
                                              ng-click="showIdentityCodeModal(personel)">
                                            <i class="far fa-paperclip"></i>
                                       </span>
                                        <div class="modal fade" id="IdentityCodeModal">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <p class="HeaderForm" ng-click="cancelIdentityCodeModal()"><i
                                                            class="cancelIcon far fa-close"
                                                    ></i>مشاهده
                                                        فایل شناسنامه</p>
                                                    <div class="modal-body m-0 p-0">
                                                        <div class="col-12">
                                                            <div class="card" style="height: 8em;">
                                                                <img width="inherit" height="115px"
                                                                     src="{{imageIdentityCode}}"/>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-6">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text text-1">
                                                تاریخ تولد
                                            </label>
                                        </div>
                                        <input class="form-control date-picker" id="birthday"
                                               ng-model="selectedInfo.BirthDatePersian"
                                               readonly>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-6">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text text-1">
                                                تاریخ صدور شناسنامه
                                            </label>
                                        </div>
                                        <input class="form-control date-picker" id="certificate"
                                               ng-model="selectedInfo.BirthCertificateDatePersian"
                                               readonly>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-6">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text text-1">
                                                محل صدور
                                            </label>
                                        </div>
                                        <input class="form-control pointer" readonly
                                               ng-model="selectedInfo.IssuePlace"
                                               autocomplete="off"/>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-6">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text text-1">
                                                محل تولد
                                            </label>
                                        </div>
                                        <input class="form-control pointer" readonly
                                               ng-model="selectedInfo.BirthPlace"
                                               autocomplete="off"/>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-6">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text text-1">
                                                تاریخ وفات
                                            </label>
                                        </div>
                                        <input class="form-control date-picker" id="death"
                                               ng-model="selectedInfo.DeathDatePersian"
                                               readonly>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-6">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text text-1">
                                                مذهب
                                            </label>
                                        </div>
                                        <select ng-model="selectedInfo.Religion"
                                                ng-change="setReligion(selectedInfo.Religion)"
                                                disabled class="form-control">
                                            <option ng-repeat="religion in religions" ng-value="religion.Id">
                                                {{religion.Title}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-6">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text text-1">
                                                گرایش مذهبی
                                            </label>
                                        </div>
                                        <select ng-model="selectedInfo.Faith" disabled class="form-control">
                                            <option ng-repeat="branch in religionBranch" ng-value="branch">{{branch}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-6">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text text-1">جنسیت</label>
                                        </div>
                                        <select class="form-control" ng-model="selectedInfo.Gender" disabled>
                                            <option ng-value="1">مرد
                                            </option>
                                            <option ng-value="2">زن
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-6" ng-init="openMarige()">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text text-1">
                                                وضعیت تاهل
                                            </label>
                                        </div>
                                        <select class="form-control" ng-model="selectedInfo.MaritalState" disabled>
                                            <option ng-repeat="marige in marigeStatus" ng-value="marige.Id">
                                                {{marige.Title}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-6">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text text-1">
                                                امضاء
                                            </label>
                                        </div>
                                        <div class="imageSign border text-center" id="imageSign">
                                            <strong class="text-danger asp-label" ng-if="!hasSign">امضاء ثبت نشده
                                                است</strong>
                                        </div>
                                        <span title="مشاهده امضاء"
                                              ng-click="showSignModal(personel)">
                                            <i class="far fa-paperclip"></i>
                                       </span>
                                        <div class="modal fade" id="SignModal">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <p class="HeaderForm" ng-click="cancelSignModal()"><i
                                                            class="cancelIcon far fa-close"
                                                    ></i>مشاهده
                                                        امضاء</p>
                                                    <div class="modal-body m-0 p-0">
                                                        <div class="col-12">
                                                            <div class="card" style="height: 8em;">
                                                                <img width="inherit" height="115px"
                                                                     src="{{imageSign}}"/>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2 text-center">
                                <div ng-if="selectedInfo.AvatarBase64 !=undefined">
                                    <img width="100%" height="100%" class="rounded" src="{{selectedInfoAvatarBase64}}"/>
                                </div>
                                <img ng-if="selectedInfo.AvatarBase64 ==undefined" width="100%" height="100%"
                                     src="{{mailImage}}" alt="عکس پرسنلی"/>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card" ng-if="selectedInfo.Gender == 1" ng-init="getMilitary()">
                    <div class="card-header" style="padding: 0 15px;">
                        <p class="asp-label" style="margin: 0 5px; text-align: right;">
                            اطلاعات خدمت سربازی
                        </p>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1">
                                            تاریخ شروع
                                        </label>
                                    </div>
                                    <input class="form-control date-picker" id="mStart"
                                           ng-model="selectedInfo.MilitaryStartPersian"
                                           readonly>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1">
                                            تاریخ پایان
                                        </label>
                                    </div>
                                    <input class="form-control date-picker" id="mFinish"
                                           ng-model="selectedInfo.MilitaryFinishPersian"
                                           readonly>
                                </div>
                            </div>

                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1">
                                            وضعیت خدمت
                                        </label>
                                    </div>
                                    <select class="form-control" disabled ng-model="selectedInfo.MilitaryState">
                                        <option ng-repeat="mil in militaryState" ng-value="mil.Id">{{mil.Title}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1">
                                            توضیحات
                                        </label>
                                    </div>
                                    <textarea class="form-control" readonly
                                              ng-model="selectedInfo.MilitaryComment"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header" style="padding: 0 15px;">
                        <p class="asp-label" style="margin: 0 5px; text-align: right;">
                            اطلاعات پرسنلی
                        </p>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1">
                                            تاریخ استخدام
                                        </label>
                                    </div>
                                    <input class="form-control date-picker" id="hire"
                                           ng-model="selectedInfo.RecruitmentDatePersian"
                                           readonly>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1">
                                            شماره مستخدم
                                        </label>
                                    </div>
                                    <input class="form-control" ng-model="selectedInfo.PersonnelNo" readonly>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1">
                                            کد پرسنلی
                                        </label>
                                    </div>
                                    <input class="form-control" ng-model="selectedInfo.DossierNo" readonly>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6"></div>
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1">
                                            شماره بیمه
                                        </label>
                                    </div>
                                    <input class="form-control" ng-model="selectedInfo.AssuranceNo" readonly>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6" ng-init="getAssurance()">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1">
                                            نوع بیمه
                                        </label>
                                    </div>
                                    <select class="form-control" ng-model="selectedInfo.AssuranceType" disabled>
                                        <option value="null">--
                                        </option>
                                        <option ng-repeat="assurance in assurances" ng-value="assurance.Id">
                                            {{assurance.Title}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header" style="padding: 0 15px;">
                        <p class="asp-label" style="margin: 0 5px; text-align: right;">
                            اطلاعات تماس
                        </p>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1">
                                            شماره تلفن
                                        </label>
                                    </div>
                                    <input class="form-control" readonly ng-model="selectedInfo.PhoneNo">
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1">
                                            شماره همراه
                                        </label>
                                    </div>
                                    <input class="form-control" readonly ng-model="selectedInfo.MobileNo">
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1">
                                            رایانامه
                                        </label>
                                    </div>
                                    <input class="form-control" type="email" readonly ng-model="selectedInfo.Email">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header" style="padding: 0 15px;">
                        <p class="asp-label" style="margin: 0 5px; text-align: right;">
                            اطلاعات آدرس

                        </p>
                    </div>
                    <div class="card-body">
                        <div class="card" ng-repeat="item in ListAddressEdit track by $index">

                            <strong class="badge badge-secondary mt-1">
                                <strong class="float-right medium-font">{{item.AddressTypeTitle}} :</strong>

                                موقعیت

                                <strong class=""
                                        ng-repeat="locationItem in item.Address.Locations track by $index">{{setPreLocationTitle(locationItem.TypeIdentity)}}
                                    : {{locationItem.Title}} /</strong> |
                                آدرس : خیابان اصلی : {{item.Address.ms}}/خیابان فرعی : {{item.Address.bs}}/کوچه اصلی :
                                {{item.Address.ma}}/پلاک : {{item.Address.p}}/کدپستی : {{item.Address.pc}}/تلفن :
                                {{item.Address.pn}}/واحد : {{item.Address.u}}
                                <!--<i class="far fa-trash cancelIcon text-white" title="حذف" ng-click="removeAddressFromListInEdit(item)"></i>
                                <i class="far fa-edit cancelIcon ml-1 text-white" title="ویرایش" ng-click="editAddressFromListInEdit(item)"></i>-->
                            </strong>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text text-1">
                                        توضیحات
                                    </label>
                                </div>
                                <textarea class="form-control" ng-model="selectedInfo.Comment" readonly></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- extra details -->
            <div ng-if="selectedSideBar === 6 && !pageLoading">
                <div class="container-fluid" ng-controller="abilityCtrl">
                    <div class="card">
                        <div class="row col-12">
                            <ul id="parentAbility" class="row justify-content-start" style="padding-right: 0">
                                <li id="ability-{{abilityParent.Id}}" class="asp-label ability-list"
                                    ng-click="getAbilityData(abilityParent)"
                                    ng-repeat="abilityParent in abilitiesParent track by abilityParent.Id"
                                    style="text-align: right; cursor: pointer;">
                                    <div class="card" ng-class="{'selected-list-group':abilityParent.selected}"
                                         style="padding: 10px">
                                        {{abilityParent.Title}}
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-12 p-0 m-0">
                        <!--first page-->
                        <div ng-if="firstTab">
                            <div class="card text-right">
                                <div class="card-header px-1 py-0 big-font">
                                    همکار ارجمند
                                </div>
                                <div class="card-body">
                                    <strong>با سلام و احترام</strong>
                                    <p class="text-justify medium-font">
                                        همانگونه که مستحضرید سازمان هاي امروزي از اين نظر که بصورت سازمان هاي دانشي
                                        در آمده اند و در آنها منابع انساني جايگاه رفيع و ويژه اي يافته اند با سازمان
                                        هاي ادوار گذشته متفاوتند. در اين بين جايگاه نيروهاي متخصص و سرمایه های
                                        انسانی جايگاهي متعالي و کم نظير است که به نوعي مي توانند ارتقاي موقعيت يک
                                        سازمان را تضمين نمايند. لذا در راستای بهره مندی از پتانسیل های سازمانی و با
                                        توجه به در دستور کار قرار داشتن پیاده سازی طرح شناسایی قابلیت ها و ارزیابی
                                        عملکرد شایستگی محور همچنین تاکید معاون محترم رییس جمهور و رئیس سازمان مبنی
                                        بر شناسایی ظرفیت های سازمان و برنامه ریزی توسعه فردی همکاران با بهره گیری از
                                        نظام سنجش و توسعه شایستگی ها خواهشمند است با آزاد نمودن زمان خود در حدود یک
                                        ساعت و نیم با رعایت اصل "صداقت" اطلاعات ذیل را تکمیل فرمایید.
                                        لازم به ذکر است در قسمت های مشخص شده می بایست مدارک و مستندات مرتبط و اظهار
                                        شده نیز بارگزاری گردد.
                                    </p>
                                </div>
                                <div class="card-footer text-left px-1 py-0 big-font">
                                    <strong>با تشکر؛</strong>
                                    <strong>امور طرح و برنامه و تعالی منابع انسانی</strong>
                                </div>
                            </div>
                        </div>

                        <div ng-if="!firstTab">
                            <div class="card" ng-repeat="item in miscellaneaInfo.Template.Items track by $index">
                                <div ng-if="checkingExist(item.Header)">
                                    <div class="card-header p-1 text-right font-weight-bold medium-font">
                                        {{item.HeaderCaption}}
                                    </div>
                                    <div class="">
                                        <table ng-if="item.EntryType === 9" class="defaultTableStyle"
                                               style="border-bottom: none !important; border-top: none !important;">
                                            <thead ng-if="checkingExist(item.Header)" class="big-font">
                                            <tr>
                                                <th ng-repeat="header in item.Header">
                                                    <span>{{header.Caption}}</span>
                                                    <table>
                                                        <thead>
                                                        <tr ng-if="header.SubHeader.length">
                                                            <th ng-repeat="sHeader in header.SubHeader">
                                                                <span>{{sHeader.Caption}}</span>
                                                            </th>
                                                        </tr>
                                                        </thead>
                                                    </table>
                                                </th>
                                                <th ng-if="checkingExist(item.Field)">#</th>
                                            </tr>
                                            </thead>
                                            <tbody ng-if="checkingExist(item.Field)">
                                            <tr ng-repeat="value in item.Values track by $index"
                                                ng-init="valueIndex = $index">
                                                <th ng-repeat="header in item.Header track by $index"
                                                    ng-init="headerIndex = $index">
                                <span class="justify-content-center text-center"
                                      ng-if="!checkingExist(header.SubHeader)">
                                  <!-- input text field -->
                                  <div class="row col-12 p-0 m-0 medium-font" ng-if="header.EntryType === 0">
                                    <input ng-readonly="item.Field.IsReadOnly"
                                           ng-model="value.CurrentValue.Value[header.Identifier]" type="text"
                                           class="form-control"/>
                                  </div>
                                    <!-- input text area field -->
                                  <div class="col-12 p-0 m-0" ng-if="header.EntryType === 1">
                                    <textarea ng-readonly="item.Field.IsReadOnly"
                                              ng-model="value.CurrentValue.Value[header.Identifier]"
                                              class="form-control"></textarea>
                                  </div>
                                    <!-- input NumberText -->
                                  <div class="row col-12 p-0 m-0 medium-font" ng-if="header.EntryType === 2"
                                       ng-init="inputMasks()">
                                    <input ng-readonly="item.Field.IsReadOnly" autocomplete="off"
                                           ng-model="value.CurrentValue.Value[header.Identifier]" type="text"
                                           class="form-control numeric"/>
                                  </div>
                                    <!-- checkbox -->
                                  <div class="row col-12 p-0 m-0 small-font" ng-if="header.EntryType === 3">
                                    <div class="custom-control custom-checkbox w-auto mx-2">
                                      <input type="checkbox" ng-disabled="item.Field.IsReadOnly"
                                             class="custom-control-input"
                                             ng-model="value.CurrentValue.Value[header.Identifier]"
                                             id="{{header.Identifier}}-{{value.Id}}">
                                      <label class="custom-control-label"
                                             for="{{header.Identifier}}-{{value.Id}}"></label>
                                    </div>
                                  </div>
                                    <!-- radio -->
                                  <div class="small-font" ng-if="header.EntryType === 5">
                                    <input name="{{header.Group}}{{valueIndex}}" ng-value="true" type="radio"
                                           ng-disabled="item.Field.IsReadOnly" class=""
                                           ng-click="setGroupRadioItem(value.CurrentValue,header)"
                                           ng-model="value.CurrentValue.Value[header.Identifier]"
                                           id="{{header.Identifier}}-{{valueIndex}}">
                                  </div>
                                    <!-- select box -->
                                  <div class="row col-12 p-0 m-0" ng-if="header.EntryType === 6">
                                    <div class="position-relative" ng-if="checkingExist(header.SelectionMethod)">
                                      <select ng-disabled="item.Field.IsReadOnly"
                                              ng-model="value.CurrentValue.Value[header.Identifier]"
                                              class="form-control"
                                              ng-options="{Id:itemb.Id,Title:itemb.Title} as itemb.Title for itemb in header.bodyData track by itemb.Id"></select>
                                    </div>
                                  </div>
                                    <!-- input date -->
                                  <div class="row col-12 p-0 m-0 medium-font" ng-if="header.EntryType === 7"
                                       ng-init="inputMasks()">
                                    <input ng-readonly="item.Field.IsReadOnly" data-inputmask-alias="datetime"
                                           data-inputmask-inputformat="yyyy/mm/dd" autocomplete="off"
                                           placeholder="yyyy/mm/dd"
                                           ng-model="value.CurrentValue.Value[header.Identifier]" type="text"
                                           class="form-control date-picker "/>
                                  </div>
                                    <!-- yes or no -->
                                  <div class="py-0 my-0" ng-if="header.EntryType === 10">
                                    <div class="row col-12 text-center small-font">
                                      <div class="custom-control custom-radio w-auto mx-1">
                                        <input name="{{item.Field.Identifier}}-{{item.Field.Id}}-{{valueIndex}}"
                                               type="radio" ng-disabled="item.Field.IsReadOnly"
                                               class="custom-control-input" ng-value="true"
                                               ng-model="value.CurrentValue.Value[header.Identifier]"
                                               id="yes_{{item.Field.Identifier}}-{{item.Field.Id}}-{{valueIndex}}">
                                        <label class="custom-control-label"
                                               for="yes_{{item.Field.Identifier}}-{{item.Field.Id}}-{{valueIndex}}">بلی</label>
                                      </div>
                                      <div class="custom-control custom-radio w-auto mx-1">
                                        <input name="{{item.Field.Identifier}}-{{item.Field.Id}}-{{valueIndex}}"
                                               type="radio" ng-disabled="item.Field.IsReadOnly"
                                               class="custom-control-input" ng-value="false"
                                               ng-model="value.CurrentValue.Value[header.Identifier]"
                                               id="no_{{item.Field.Identifier}}-{{item.Field.Id}}-{{valueIndex}}">
                                        <label class="custom-control-label"
                                               for="no_{{item.Field.Identifier}}-{{item.Field.Id}}-{{valueIndex}}">خیر</label>
                                      </div>
                                    </div>
                                  </div>
                                </span>
                                                    <table ng-if="checkingExist(header.SubHeader)">
                                                        <tbody>
                                                        <tr>
                                                            <td class="justify-content-center text-center"
                                                                ng-repeat="sHeader in header.SubHeader track by $index"
                                                                ng-init="sHeaderIndex = $index">
                                                                <!-- input text field -->
                                                                <div class="row col-12 p-0 m-0 medium-font"
                                                                     ng-if="sHeader.EntryType === 0">
                                                                    <input ng-readonly="item.Field.IsReadOnly"
                                                                           ng-model="value.CurrentValue.Value[sHeader.Identifier]"
                                                                           type="text" class="form-control"/>
                                                                </div>
                                                                <!-- input text area field -->
                                                                <div class="col-12 p-0 m-0"
                                                                     ng-if="sHeader.EntryType === 1">
                                                                        <textarea ng-readonly="item.Field.IsReadOnly"
                                                                                  ng-model="value.CurrentValue.Value[sHeader.Identifier]"
                                                                                  class="form-control"></textarea>
                                                                </div>
                                                                <!-- input NumberText -->
                                                                <div class="row col-12 p-0 m-0 medium-font"
                                                                     ng-if="sHeader.EntryType === 2"
                                                                     ng-init="inputMasks()">
                                                                    <input ng-readonly="item.Field.IsReadOnly"
                                                                           autocomplete="off"
                                                                           ng-model="value.CurrentValue.Value[sHeader.Identifier]"
                                                                           type="text"
                                                                           class="form-control numeric"/>
                                                                </div>
                                                                <!-- checkbox -->
                                                                <div class="row col-12 p-0 m-0 small-font"
                                                                     ng-if="sHeader.EntryType === 3">
                                                                    <div class="custom-control custom-checkbox w-auto mx-2">
                                                                        <input type="checkbox"
                                                                               ng-disabled="item.Field.IsReadOnly"
                                                                               class="custom-control-input"
                                                                               ng-model="value.CurrentValue.Value[sHeader.Identifier]"
                                                                               id="{{sHeader.Identifier}}-{{item.Field.Id}}">
                                                                        <label class="custom-control-label"
                                                                               for="{{sHeader.Identifier}}-{{item.Field.Id}}"></label>
                                                                    </div>
                                                                </div>
                                                                <!-- radio -->
                                                                <div class="small-font"
                                                                     ng-if="sHeader.EntryType === 5">
                                                                    <input name="{{sHeader.Group}}{{valueIndex}}"
                                                                           type="radio"
                                                                           ng-disabled="item.Field.IsReadOnly"
                                                                           ng-value="true" class=""
                                                                           ng-click="setGroupRadioItem(value.CurrentValue,sHeader)"
                                                                           ng-model="value.CurrentValue.Value[sHeader.Identifier]"
                                                                           id="{{sHeader.Identifier}}-{{valueIndex}}">

                                                                </div>
                                                                <!-- select box -->
                                                                <div class="row col-12 p-0 m-0"
                                                                     ng-if="sHeader.EntryType === 6">
                                                                    <div class="position-relative"
                                                                         ng-if="checkingExist(sHeader.SelectionMethod)">
                                                                        <select ng-disabled="item.Field.IsReadOnly"
                                                                                ng-model="value.CurrentValue.Value[sHeader.Identifier]"
                                                                                class="form-control"
                                                                                ng-options="{Id:itemb.Id,Title:itemb.Title} as itemb.Title for itemb in sHeader.bodyData track by itemb.Id"></select>
                                                                    </div>
                                                                </div>
                                                                <!-- input date -->
                                                                <div class="row col-12 p-0 m-0 medium-font"
                                                                     ng-if="sHeader.EntryType === 7"
                                                                     ng-init="inputMasks()">
                                                                    <input ng-readonly="item.Field.IsReadOnly"
                                                                           data-inputmask-alias="datetime"
                                                                           data-inputmask-inputformat="yyyy/mm/dd"
                                                                           autocomplete="off"
                                                                           placeholder="yyyy/mm/dd"
                                                                           ng-model="value.CurrentValue.Value[sHeader.Identifier]"
                                                                           type="text"
                                                                           class="form-control date-picker "/>
                                                                </div>
                                                                <!-- yes or no -->
                                                                <div class="py-0 my-0"
                                                                     ng-if="sHeader.EntryType === 10">
                                                                    <div class="row col-12 text-center small-font">
                                                                        <div class="custom-control custom-radio w-auto mx-1">
                                                                            <input name="{{item.Field.Identifier}}-{{item.Field.Id}}"
                                                                                   type="radio"
                                                                                   ng-disabled="item.Field.IsReadOnly"
                                                                                   class="custom-control-input"
                                                                                   ng-value="true"
                                                                                   ng-model="value.CurrentValue.Value[sHeader.Identifier]"
                                                                                   id="yes_{{item.Field.Identifier}}-{{item.Field.Id}}">
                                                                            <label class="custom-control-label"
                                                                                   for="yes_{{item.Field.Identifier}}-{{item.Field.Id}}">بلی</label>
                                                                        </div>
                                                                        <div class="custom-control custom-radio w-auto mx-1">
                                                                            <input name="{{item.Field.Identifier}}-{{item.Field.Id}}"
                                                                                   type="radio"
                                                                                   ng-disabled="item.Field.IsReadOnly"
                                                                                   class="custom-control-input"
                                                                                   ng-value="false"
                                                                                   ng-model="value.CurrentValue.Value[sHeader.Identifier]"
                                                                                   id="no_{{item.Field.Identifier}}-{{item.Field.Id}}">
                                                                            <label class="custom-control-label"
                                                                                   for="no_{{item.Field.Identifier}}-{{item.Field.Id}}">خیر</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                </th>
                                                <td><span ng-if="checkingExist(value.DataValue)" title="حذف"
                                                          ng-click="removeItem(value)">
                                                        <i
                                                                class="far fa-trash pointer text-danger medium-font"
                                                        ></i>
                                                    </span></td>
                                            </tr>
                                            </tbody>
                                            <tbody ng-if="checkingExist(item.SelectionMethod)">
                                            <tr ng-if="item.bodyData.length" ng-repeat="body in item.bodyData">
                                                <td ng-repeat="header in item.Header">
                                                    <span ng-if="!header.SubHeader.length">{{body[header.Identifier].toString().length ? body[header.Identifier] : '-'}}</span>
                                                    <table ng-if="header.SubHeader.length">
                                                        <tbody>
                                                        <tr>
                                                            <td ng-repeat="sHeader in header.SubHeader">
                                                                <span>{{body[sHeader.Identifier].toString().length ? body[sHeader.Identifier] : '-'}}</span>
                                                            </td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                            <tr ng-if="!item.bodyData.length">
                                                <td ng-if="loadingBodyData" colspan="{{item.Header.length}}">در حال
                                                    جستجو...
                                                </td>
                                                <td ng-if="!loadingBodyData" colspan="{{item.Header.length}}">داده
                                                    ای وجود ندارد...
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div ng-if="!checkingExist(item.Header)">
                                    <!-- HeaderCaption -->
                                    <div ng-if="item.EntryType === 9"
                                         class="card-header p-1 text-right font-weight-bold medium-font">
                                        {{item.HeaderCaption}}
                                    </div>
                                    <!-- input field -->
                                    <div class="row col-12 p-0 m-0" ng-if="item.Field.EntryType === 0">
                                        <div class="medium-font col-9 text-right">
                                            {{item.Field.Title}}
                                        </div>
                                        <div class="medium-font col-3 m-auto justify-content-end">
                                            <input ng-readonly="checkIfCanChange(item.Field,miscellaneaInfo)"
                                                   ng-model="item.Values[0].CurrentValue.Value" type="text"
                                                   ng-keyup="!checkingExist(item.Values[0].CurrentValue.Value)?removeItem(item.Values[0]):''"
                                                   class="form-control"/>
                                        </div>
                                        <span ng-if="checkingExist(item.Values[0].DataValue)"
                                              title="حذف اطلاعات این سطر از بانک اطلاعاتی"
                                              ng-click="removeItem(item.Values[0])">
                                                <i
                                                        class="far fa-trash pointer position-absolute text-danger medium-font left-0 top-1"
                                                ></i>
                                            </span>
                                    </div>
                                    <!-- input text area field -->
                                    <div class="col-12 p-0 m-0" ng-if="item.Field.EntryType === 1">
                                        <div class="medium-font col-12 text-right">
                                            {{item.Field.Title}}
                                        </div>
                                        <div class="medium-font col-12 m-auto justify-content-end">
                                                <textarea ng-readonly="checkIfCanChange(item.Field,miscellaneaInfo)"
                                                          ng-keyup="!checkingExist(item.Values[0].CurrentValue.Value)?removeItem(item.Values[0]):''"
                                                          ng-model="item.Values[0].CurrentValue.Value"
                                                          class="form-control"></textarea>
                                        </div>
                                        <span ng-if="checkingExist(item.Values[0].DataValue)"
                                              title="حذف اطلاعات این سطر از بانک اطلاعاتی"
                                              ng-click="removeItem(item.Values[0])">
                                                <i
                                                        class="far fa-trash pointer position-absolute text-danger medium-font left-0 top-1"
                                                ></i>
                                           </span>
                                    </div>
                                    <!-- input NumberText -->
                                    <div class="row col-12 p-0 m-0" ng-if="item.Field.EntryType === 2">
                                        <div class="medium-font col-9 text-right">
                                            {{item.Field.Title}}
                                        </div>
                                        <div class="medium-font col-3 m-auto justify-content-end"
                                             ng-init="inputMasks()">
                                            <input ng-readonly="checkIfCanChange(item.Field,miscellaneaInfo)"
                                                   ng-keyup="!checkingExist(item.Values[0].CurrentValue.Value)?removeItem(item.Values[0]):''"
                                                   data-inputmask-alias="datetime"
                                                   data-inputmask-inputformat="yyyy/mm/dd" autocomplete="off"
                                                   placeholder="yyyy/mm/dd"
                                                   ng-model="item.Values[0].CurrentValue.Value[header.Identifier]"
                                                   type="text" class="form-control numeric"/>
                                        </div>
                                        <span ng-if="checkingExist(item.Values[0].DataValue)"
                                              title="حذف اطلاعات این سطر از بانک اطلاعاتی"
                                              ng-click="removeItem(item.Values[0])">
                                                <i
                                                        class="far fa-trash pointer position-absolute text-danger medium-font left-0 top-1"
                                                ></i>
                                            </span>
                                    </div>

                                    <!-- checkbox -->
                                    <div class="row col-12 p-0 m-0" ng-if="item.Field.EntryType === 3">
                                        <div class="row col-12 p-0 m-0" ng-if="!checkingExist(item.Field.Item)">
                                            <div class="medium-font col-9 text-right">
                                                {{item.Field.Title}}
                                            </div>
                                            <div class="col-3 small-font m-auto justify-content-end">
                                                <div class="custom-control custom-checkbox w-auto">
                                                    <input type="checkbox"
                                                           ng-disabled="checkIfCanChange(item.Field,miscellaneaInfo)"
                                                           class="custom-control-input"
                                                           ng-model="item.Values[0].CurrentValue.Value"
                                                           id="{{item.Field.Identifier}}-{{item.Field.Id}}">
                                                    <label class="custom-control-label"
                                                           for="{{item.Field.Identifier}}-{{item.Field.Id}}"></label>
                                                </div>
                                            </div>
                                            <span ng-if="checkingExist(item.Values[0].DataValue)"
                                                  title="حذف اطلاعات این سطر از بانک اطلاعاتی"
                                                  ng-click="removeItem(item.Values[0])">
                                                    <i
                                                            class="far fa-trash pointer position-absolute text-danger medium-font left-0 top-1"
                                                    ></i>
                                               </span>
                                        </div>
                                        <div class="row col-12 p-0 m-0" ng-if="checkingExist(item.Field.Item)">
                                            <div class="medium-font col-3 text-right">
                                                {{item.Field.Title}}
                                            </div>
                                            <div class="row col-9 small-font m-auto justify-content-end">
                                                <div class="custom-control custom-checkbox w-auto mx-2"
                                                     ng-repeat="itemx in item.Field.Item.ItemValues">
                                                    <input type="checkbox" ng-value="itemx.Value"
                                                           ng-disabled="checkIfCanChange(item.Field,miscellaneaInfo)"
                                                           class="custom-control-input"
                                                           ng-checked="getValueForGroupCheckWithHasFlag(item.Values[0].CurrentValue.Value,itemx.Value)"
                                                           ng-click="setValueForGroupCheckWithHasFlag(item.Values[0],itemx.Value)"
                                                           id="{{item.Field.Identifier}}-{{itemx.Value}}">
                                                    <label class="custom-control-label pt-1"
                                                           for="{{item.Field.Identifier}}-{{itemx.Value}}">{{itemx.Text}}</label>
                                                </div>
                                            </div>
                                            <span ng-if="checkingExist(item.Values[0].DataValue)"
                                                  title="حذف اطلاعات این سطر از بانک اطلاعاتی"
                                                  ng-click="removeItem(item.Values[0])">
                                                    <i
                                                            class="far fa-trash pointer position-absolute text-danger medium-font left-0 top-1"
                                                    ></i>
                                               </span>
                                        </div>
                                    </div>
                                    <!-- radio -->
                                    <div ng-if="item.Field.EntryType === 5">
                                        <div class="row col-12 p-0 m-0" ng-if="!checkingExist(item.Field.Item)">
                                            <div class="medium-font col-9 text-right">
                                                {{item.Field.Title}}
                                            </div>
                                            <div class="col-3 small-font m-auto justify-content-end">
                                                <div class="custom-control custom-radio w-auto">
                                                    <input type="radio"
                                                           ng-disabled="checkIfCanChange(item.Field,miscellaneaInfo)"
                                                           class="custom-control-input"
                                                           ng-model="item.Values[0].CurrentValue.Value"
                                                           id="{{item.Field.Identifier}}-{{item.Field.Id}}">
                                                    <label class="custom-control-label"
                                                           for="{{item.Field.Identifier}}-{{item.Field.Id}}"></label>
                                                </div>
                                            </div>
                                            <span ng-if="checkingExist(item.Values[0].DataValue)"
                                                  title="حذف اطلاعات این سطر از بانک اطلاعاتی"
                                                  ng-click="removeItem(item.Values[0])">
                                                    <i
                                                            class="far fa-trash pointer position-absolute text-danger medium-font left-0 top-1"
                                                    ></i>
                                                </span>
                                        </div>
                                        <div class="row col-12 p-0 m-0" ng-if="checkingExist(item.Field.Item)">
                                            <div class="medium-font col-3 text-right">
                                                {{item.Field.Title}}
                                            </div>
                                            <div class="row col-9 small-font m-auto justify-content-end">
                                                <div class="custom-control custom-radio w-auto mx-1"
                                                     ng-repeat="itemx in item.Field.Item.ItemValues track by $index">
                                                    <input name="{{item.Field.Identifier}}-{{item.Field.Id}}"
                                                           type="radio" ng-value="itemx.Value"
                                                           ng-disabled="checkIfCanChange(item.Field,miscellaneaInfo)"
                                                           class="custom-control-input"
                                                           ng-model="item.Values[0].CurrentValue.Value"
                                                           id="{{item.Field.Identifier}}-{{itemx.Value}}">
                                                    <label class="custom-control-label pt-1"
                                                           for="{{item.Field.Identifier}}-{{itemx.Value}}">{{itemx.Text}}</label>
                                                </div>
                                            </div>
                                            <span ng-if="checkingExist(item.Values[0].DataValue)"
                                                  title="حذف اطلاعات این سطر از بانک اطلاعاتی"
                                                  ng-click="removeItem(item.Values[0])">
                                                    <i
                                                            class="far fa-trash pointer position-absolute text-danger medium-font left-0 top-1"
                                                    ></i>
                                               </span>
                                        </div>
                                    </div>
                                    <!-- select box -->
                                    <div class="row col-12 p-0 m-0" ng-if="item.Field.EntryType === 6">
                                        <div class="medium-font col-9 text-right">
                                            {{item.Field.Title}}
                                        </div>
                                        <div class="col-3 position-relative m-auto justify-content-end"
                                             ng-if="checkingExist(item.Field.SelectionMethod)">
                                            <select ng-disabled="checkIfCanChange(item.Field,miscellaneaInfo)"
                                                    ng-model="item.Values[0].CurrentValue.Value"
                                                    class="form-control"
                                                    ng-options="{Id:itemb.Id,Title:itemb.Title} as itemb.Title for itemb in item.Field.bodyData track by itemb.Id"></select>
                                        </div>
                                        <span ng-if="checkingExist(item.Values[0].DataValue)"
                                              title="حذف اطلاعات این سطر از بانک اطلاعاتی"
                                              ng-click="removeItem(item.Values[0])">
                                                <i
                                                        class="far fa-trash pointer position-absolute text-danger medium-font left-0 top-1"
                                                ></i>
                                           </span>
                                    </div>
                                    <!-- input date -->
                                    <div class="row col-12 p-0 m-0" ng-if="item.Field.EntryType === 7">
                                        <div class="medium-font col-9 text-right">
                                            {{item.Field.Title}}
                                        </div>
                                        <div class="medium-font col-3 m-auto justify-content-end"
                                             ng-init="inputMasks()">
                                            <input ng-readonly="checkIfCanChange(item.Field,miscellaneaInfo)"
                                                   ng-keyup="!checkingExist(item.Values[0].CurrentValue.Value)?removeItem(item.Values[0]):''"
                                                   data-inputmask-alias="datetime"
                                                   data-inputmask-inputformat="yyyy/mm/dd" autocomplete="off"
                                                   placeholder="yyyy/mm/dd"
                                                   ng-model="item.Values[0].CurrentValue.Value" type="text"
                                                   class="form-control date-picker "/>
                                        </div>
                                        <span ng-if="checkingExist(item.Values[0].DataValue)"
                                              title="حذف اطلاعات این سطر از بانک اطلاعاتی"
                                              ng-click="removeItem(item.Values[0])">
                                                <i
                                                        class="far fa-trash pointer position-absolute text-danger medium-font left-0 top-1"
                                                ></i>
                                            </span>
                                    </div>
                                    <!-- yes or no -->
                                    <div class="row col-12 p-0 m-0" ng-if="item.Field.EntryType === 10">
                                        <div class="medium-font col-10 text-right">
                                            {{item.Field.Title}}
                                        </div>
                                        <div class="col-2">
                                            <div class="row small-font m-auto justify-content-end">
                                                <div ng-if="item.Field.IsSingleValue"
                                                     class="custom-control custom-radio w-auto mx-1">
                                                    <input name="{{item.Field.Identifier}}-{{item.Field.Id}}"
                                                           type="radio"
                                                           ng-disabled="checkIfCanChange(item.Field,miscellaneaInfo)"
                                                           class="custom-control-input" ng-value="true"
                                                           ng-model="item.Values[0].CurrentValue.Value"
                                                           id="yes_{{item.Field.Identifier}}-{{item.Field.Id}}">
                                                    <label class="custom-control-label"
                                                           for="yes_{{item.Field.Identifier}}-{{item.Field.Id}}">بلی</label>
                                                </div>
                                                <div ng-if="item.Field.IsSingleValue"
                                                     class="custom-control custom-radio w-auto mx-1">
                                                    <input name="{{item.Field.Identifier}}-{{item.Field.Id}}"
                                                           type="radio"
                                                           ng-disabled="checkIfCanChange(item.Field,miscellaneaInfo)"
                                                           class="custom-control-input" ng-value="false"
                                                           ng-model="item.Values[0].CurrentValue.Value"
                                                           id="no_{{item.Field.Identifier}}-{{item.Field.Id}}">
                                                    <label class="custom-control-label"
                                                           for="no_{{item.Field.Identifier}}-{{item.Field.Id}}">خیر</label>
                                                </div>
                                            </div>
                                        </div>
                                        <span ng-if="checkingExist(item.Values[0].DataValue)"
                                              title="حذف اطلاعات این سطر از بانک اطلاعاتی"
                                              ng-click="removeItem(item.Values[0])">
                                                <i
                                                        class="far fa-trash pointer text-danger medium-font position-absolute left-0 top-1"
                                                ></i>
                                           </span>
                                    </div>

                                </div>
                            </div>

                        </div>
                    </div>

                    <div class="card position-sticky" style="bottom: 0;z-index: 100">
                        <div class="float-left">
                            <button type="button" class="new-button" ng-click="saveItems(miscellaneaInfo)">
                                <i class="far fa-check"></i>
                                ذخیره
                                <div style="left: 8px; bottom: 10px; width: 8px; height: 8px"
                                     class="spinner-border text-warning" ng-if="loadingSave">
                                </div>
                            </button>
                            <button type="button" class="new-button green" ng-click="print()">
                                <i class="far fa-check"></i>
                                چاپ خروجی
                                <div style="left: 8px; bottom: 10px; width: 8px; height: 8px"
                                     class="spinner-border text-warning" ng-if="loadingPrint">
                                </div>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- my writ -->
            <div ng-if="selectedSideBar === 1 && !pageLoading">
                <div class="card">
                    <table class="newTableStyleForWrits">
                        <thead>
                        <tr>
                            <th style="width: 40%">نوع حکم
                            </th>
                            <th style="width: 15%;">شماره حکم
                            </th>
                            <th style="width: 5%;">تایید شده
                            </th>
                            <th style="width: 15%;">تاریخ اجرا
                            </th>
                            <th style="width: 25%;">تاریخ صدور
                            </th>
                        </tr>
                        </thead>
                        <!-- ng-dblclick="showIssuance(issuance)" -->
                        <tbody ng-if="userIssuance.length" ng-repeat="issuance in userIssuance">
                        <tr title="{{issuance.TypeIdentity ==2?'حکم دستی':'حکم سیستمی'}}">
                            <td ng-class="(issuance.TypeIdentity ==2) ? ['ManualColor'] : ['AutoColor']">
                                   <span ng-if="issuance.HasChildren" title="مشاهده"
                                         ng-click="showChildren(issuance)">
                                        <div ng-if="!showMinus">
                                            <i class="far fa-plus pointer float-right first-icon"
                                            ></i>
                                        </div>
                                       <div ng-if="showMinus">
                                            <i class="far fa-minus pointer float-right first-icon"
                                            ></i>
                                        </div>
                                   </span>
                                <span ng-if="issuance.HasChildren">اصلاحیه -
                                    </span>
                                {{issuance.ActionTypeTitle}}
                                <!--  ng-click="showIssuance(issuance.Medium)" -->
                                <span ng-if="issuance.Medium != null"
                                      class="badge badge-info pointer">{{issuance.Medium.ActionTypeTitle}} - {{issuance.Medium.FormNumber}}
                                    </span>
                            </td>
                            <td>{{issuance.FormNumber}}
                            </td>
                            <td>
                                    <span title="تأیید شده سیستمی"
                                          ng-if="!issuance.IsDraft && !issuance.HasPayment">
                                        <i class="far fa-check text-success"></i>
                                    </span>
                                <span title="تأیید نشده"
                                      ng-if="issuance.IsDraft && !issuance.HasPayment">
                                        <i class="far fa-close text-danger"></i>
                                    </span>
                                <div class="row position-relative" title="تأیید شده مالی" ng-if="issuance.HasPayment">
                                    <div class="position-absolute" style="z-index: 10; left: 22px;top: -5px"><i
                                            class="far fa-check text-success"></i></div>
                                    <div class="position-absolute" style="z-index: 10; left: 27px; top: -5px"><i
                                            class="far fa-check text-success"></i></div>
                                </div>
                            </td>
                            <td>{{issuance.ExecuteDatePersian}}

                            </td>
                            <td>{{issuance.IssueDatePersian}}
                                <!-- <i class="far fa-chevron-left float-left pointer" style="margin: 0 15px 0 5px;"></i> -->
                                <div class="spinner-border spinner-border-sm float-left text-primary"
                                     ng-if="issuance.loading"
                                     style="margin-top: 0; margin-left: -8px; margin-right: 5px;"></div>
                                <!--<i class="far fa-file pointer float-left" style="margin: 0 7px 0 0px;"
                                       ng-click="showIssuance(issuance)" title="مشاهده حکم"></i>-->
                                <span ng-if="issuance.HasValue" title="چاپ"
                                      ng-click="printData(issuance)">
                                        <i class="far fa-print pointer float-left"
                                           style="margin: 0 7px 0 0;"></i>
                                    </span>
                            </td>
                        </tr>
                        <tr class="custom-table-success hidden" id="tr-{{issuance.Id}}">
                            <td colspan="5">
                                <div style="text-align: right" class="hidden1" id="children-{{issuance.Id}}">
                                    <table class="newTableStyle" style="font-size: 11px !important">
                                        <tbody>
                                        <tr>
                                            <td style="width: 40%">
                                <span class="table-tree">
                                  <span ng-if="issuance.childrenIssuance.HasChildren"
                                        title="مشاهده"
                                        ng-click="showChildren1(issuance.childrenIssuance)">
                                      <i class="far fa-plus pointer float-right"
                                         id="plus-{{issuance.childrenIssuance.Id}}"
                                      ></i>
                                  </span>
                                  {{issuance.childrenIssuance.ActionTypeTitle}}
                                </span>
                                            </td>
                                            <td style="width: 15%;">{{issuance.childrenIssuance.FormNumber}}
                                            </td>
                                            <td style="width: 5%;">
                                                    <span ng-if="!issuance.childrenIssuance.IsDraft">
                                                        <i class="far fa-check text-success"
                                                        ></i>
                                                    </span>
                                                <span ng-if="issuance.childrenIssuance.IsDraft">
                                                        <i class="far fa-close text-danger"
                                                        ></i>
                                                   </span>
                                            </td>
                                            <td style="width: 10%;">{{issuance.childrenIssuance.ExecuteDatePersian}}
                                            </td>
                                            <td style="width: 30%;">{{issuance.childrenIssuance.IssueDatePersian}}
                                                <div class="spinner-border spinner-border-sm float-left text-primary"
                                                     ng-if="issuance.childrenIssuance.loading"
                                                     style="margin-top: 0; margin-left: -8px; margin-right: 5px;"></div>
                                                <span title="چاپ"
                                                      ng-click="printData(issuance.childrenIssuance)">
                                                        <i class="far fa-print pointer float-left"
                                                           style="margin: 0 7px 0 0;"></i>
                                                   </span>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                    <div style="text-align: right" class="hidden1"
                                         id="children-{{issuance.childrenIssuance.Id}}">
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr ng-if="!userIssuance.length">
                            <td colspan="5">
                                <div ng-if="!loading" class="position-absolute" style="left: 45%">
                                    <strong>داده ای برای نمایش وجود ندارد</strong>
                                </div>
                                <div ng-if="loading" class="position-absolute" style="left: 45%">
                                    <strong>درحال جستجو...</strong>
                                </div>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="card">
                    <div class="row">
                        <div style="text-align: right; padding-right: 25px;">
                            <span ng-click="loadPage(userIssuance.TotalPages)" class="asp-label"
                                  style="cursor: pointer;">
                              <i class="far fa-chevron-right"></i>
                              <i class="far fa-chevron-right" style="margin-right: -3px;"></i>
                            </span>
                            <span ng-click="loadPage(userIssuance.PageIndex+1)">
                                <i class="far fa-chevron-right asp-label"
                                   style="margin: 0 10px; cursor: pointer; font-size: 0.7em;"></i>
                           </span>
                            <input class="form-control" id="paging"
                                   placeholder="{{userIssuance.PageIndex}} از  {{userIssuance.TotalPages}}"
                                   style="width: 33%; display: inline-block; position: relative; top: 0px;"
                                   ng-model="pageNumber" ng-keyup="loadPage(pageNumber)">
                            <span ng-click="loadPage(userIssuance.PageIndex-1)">
                                <i class="far fa-chevron-left asp-label"
                                   style="margin: 0 10px; cursor: pointer; font-size: 0.7em;"></i>
                           </span>
                            <span ng-click="loadPage(1)" class="asp-label" style="cursor: pointer;">
                              <i class="far fa-chevron-left" style="margin-left: -3px;"></i>
                              <i class=" far fa-chevron-left"></i>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <!-- traffics -->
            <div ng-if="selectedSideBar === 2 && !pageLoading">
                <p class="HeaderForm">اطلاعات کاربری</p>
                <div class="card">
                    <div class="col-12 row">
                        <div class="col-lg-3 col-md-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text text-1">
                                        نام و نام خانوادگی
                                    </label>
                                </div>
                                <input class="form-control" ng-value="yearResult.personName" readonly>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text text-1">
                                        پست سازمانی
                                    </label>
                                </div>
                                <input class="form-control" ng-value="yearResult.postTitle" readonly>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text text-1">
                                        واحد سازمانی
                                    </label>
                                </div>
                                <input class="form-control" ng-value="yearResult.unitTitle" readonly>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text text-1">
                                        تاریخ جاری
                                    </label>
                                </div>
                                <input class="form-control" ng-value="currentDate" readonly>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <h6 class="accordion-header p-0">
                        <div class="HeaderForm d-flex">
                            <label class="font-weight-bold medium-font pt-1 text-white ml-2">سال</label>
                            <select ng-init="myear = thisYear" ng-model="myear" ng-change="yearSelected(myear)"
                                    class="form-control float-right" style="width: 100px">
                                <option ng-value="">انتخاب نمایید..</option>
                                <option ng-repeat="year in yearsArr" ng-value="year.name">{{year.name}}</option>
                            </select>

                            <div class="accordion-button pointer float-left position-absolute"
                                 style="left: 15px; top: 20px" data-toggle="collapse" data-target="#collapse-1"
                                 aria-expanded="true"
                                 aria-controls="collapse-1">
                                <i class="far fa-chevron-down"></i>
                            </div>
                        </div>
                    </h6>
                    <div class="collapse show" id="collapse-1">
                        <div class="row col-12">
                            <!--<div class="border rounded border-info text-right ml-2 mb-2 p-1" style="min-height:30px;width:200px">
                                <div class="small-font font-weight-bold">جمع مرخصی استفاده شده کمتر از یک روز</div>
                                <div class="d-flex border-info border mb-1 mt-1 col-12"></div>
                                <div class="small-font text-success" dir="ltr">ساعت <strong>{{yearResult.}}</strong></div>
                            </div>-->
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1 label-width-160px">
                                            جمع مرخصی استفاده شده روزانه
                                        </label>
                                    </div>
                                    <input class="form-control" ng-value="yearResult.leaveDaily" readonly>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1 label-width-160px">
                                            غیبت
                                        </label>
                                    </div>
                                    <input class="form-control" ng-value="yearResult.absenceDayCnt" readonly>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1 label-width-160px">
                                            مانده مرخصی تا پایان سال
                                        </label>
                                    </div>
                                    <input class="form-control" ng-value="yearResult.sumLeaveRemaining" readonly>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1 label-width-160px">
                                            ذخیره اول سال
                                        </label>
                                    </div>
                                    <input class="form-control" ng-value="yearResult.firstYearSave" readonly>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1 label-width-160px">
                                            استحقاقی سال جاری
                                        </label>
                                    </div>
                                    <input class="form-control" ng-value="yearResult.validLeaveCount" readonly>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1 label-width-160px">
                                            جمع مرخصی ساعتی
                                        </label>
                                    </div>
                                    <input class="form-control" ng-value="yearResult.hourLeavePerHour" readonly>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1 label-width-160px">
                                            مانده قابل انتقال به سال بعد
                                        </label>
                                    </div>
                                    <input class="form-control" ng-value="yearResult.sumLeaveRemaining" readonly>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1 label-width-160px">
                                            جمع غیبت ساعتی
                                        </label>
                                    </div>
                                    <input class="form-control" ng-value="yearResult.sumAbsentsHourPerHour" readonly>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1 label-width-160px">
                                            تردد ناقص
                                        </label>
                                    </div>
                                    <input class="form-control" ng-value="yearResult.calcIncompleteDayCnt" readonly>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="form-check text-right">
                                    <input ng-init="usedvacation = false" type="radio" name="radio"
                                           class="form-check-input" ng-click="chengeradio(1)" id="usedvacation">
                                    <label class="form-check-label asp-label pr-4" for="usedvacation">
                                        مرخصی استفاده شده
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="form-check text-right">
                                    <input ng-init="absenceDuration = false" type="radio" name="radio"
                                           class="form-check-input" ng-click="chengeradio(2)"
                                           id="absenceDuration">
                                    <label class="form-check-label asp-label pr-4" for="absenceDuration">
                                        مدت غیبت
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="form-check text-right">
                                    <input ng-init="incomplete = false" type="radio" name="radio"
                                           class="form-check-input" ng-click="chengeradio(3)"
                                           id="incomplete">
                                    <label class="form-check-label asp-label pr-4" for="incomplete">
                                        تردد ناقص
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="card" ng-if="ShowIncompleteGrid">
                            <div style="overflow-x: auto !important; max-height: 200px">
                                <table class="newTableStyle">
                                    <thead>
                                    <tr>
                                        <th style="min-width: 100px">تاریخ</th>
                                        <th style="min-width: 100px">ساعات</th>
                                        <th style="min-width: 100px">وضعیت</th>
                                        <th class="w-5">گزینه ها</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr class="" ng-repeat="item in incompleteListData.item1 track by $index">
                                        <td class="text-center p-1">{{item.startDayPersian}}</td>
                                        <td class="text-center p-1">{{item.allTimeRollCall}}</td>
                                        <td class="text-center p-1">{{item.presenceStatus}}</td>
                                        <td class="text-center p-1">
                                           <span title="تکمیل تردد"
                                                 ng-click="Completetraffic(item)">
                                                <i class="far fa-edit ml-1 medium-font pointer"></i>
                                           </span>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="row col-12">
                                <div class="col-5">
                                    <div class="row">
                      <span ng-click="changePageI(incompleteListData.TotalPages)" style="cursor: pointer;">
                        <i class="far fa-chevron-right" style="font-size: 0.7em;"></i>
                        <i class="far fa-chevron-right asp-label" style="margin-right: -3px; font-size: 0.7em;"></i>
                      </span>
                                        <span ng-click="changePageI(incompleteListData.PageIndex+1)">
                                            <i class="far fa-chevron-right asp-label"

                                               style="margin: 6px 10px; cursor: pointer; font-size: 0.7em;"></i>
                                        </span>
                                        <input class="form-control text-center" id="pagingA"
                                               placeholder="{{incompleteListData.PageIndex}} از  {{incompleteListData.TotalPages}}"
                                               style="width: 30%; display: inline-block; position: relative; top: 0px; font-size: 0.7em;"
                                               ng-model="pageNumberIu"
                                               ng-keyup="changePageI(pageNumberIu);">
                                        <span ng-click="changePageI(incompleteListData.PageIndex -1)">
                                            <i class="far fa-chevron-left asp-label"

                                               style="margin: 6px 10px; cursor: pointer; font-size: 0.7em;"></i>
                                        </span>
                                        <span ng-click="changePageI(1)" style="cursor: pointer;">
                        <i class="far fa-chevron-left asp-label" style="margin-left: -3px; font-size: 0.7em;"></i>
                        <i class=" far fa-chevron-left asp-label" style="font-size: 0.7em;"></i>
                      </span>
                                    </div>
                                </div>
                                <div class="col-2">
                                    <span class="medium-font">تعداد کل: <strong>{{incompleteListData.TotalRows}}</strong></span>
                                </div>
                                <div class="col-5">
                                    <div class="float-left">
                                        <div class="mt-1" style="width: 200px">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text">
                                                        تعداد ردیف
                                                    </label>
                                                </div>
                                                <input placeholder="10" type="number" min="1" max="1000"
                                                       class="form-control text-center"
                                                       ng-keyup="changePageSizeI(pageSizeI)" ng-model="pageSizeI">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card" ng-if="ShowAbsenceGrid">
                            <div style="overflow-x: auto !important; max-height: 200px">
                                <table class="newTableStyle">
                                    <thead>
                                    <tr>
                                        <th style="min-width: 100px">تاریخ</th>
                                        <th style="min-width: 100px">ساعات</th>
                                        <th style="min-width: 100px">وضعیت</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr class="" ng-repeat="item in absenceListData.item1 track by $index">
                                        <td class="text-center p-1">{{item.startDayPersian}}</td>
                                        <td class="text-center p-1">{{item.allTimeRollCall}}</td>
                                        <td class="text-center p-1">{{item.presenceStatus}}</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="row col-12">
                                <div class="col-5">
                                    <div class="row">
                      <span ng-click="changePageA(absenceListData.TotalPages)" style="cursor: pointer;">
                        <i class="far fa-chevron-right" style="font-size: 0.7em;"></i>
                        <i class="far fa-chevron-right asp-label" style="margin-right: -3px; font-size: 0.7em;"></i>
                      </span>
                                        <span ng-click="changePageA(absenceListData.PageIndex+1)">
                                            <i class="far fa-chevron-right asp-label"

                                               style="margin: 6px 10px; cursor: pointer; font-size: 0.7em;"></i>
                                        </span>
                                        <input class="form-control text-center" id="pagingA"
                                               placeholder="{{absenceListData.PageIndex}} از  {{absenceListData.TotalPages}}"
                                               style="width: 30%; display: inline-block; position: relative; top: 0px; font-size: 0.7em;"
                                               ng-model="pageNumberAu"
                                               ng-keyup="changePageA(pageNumberAu);">
                                        <span ng-click="changePageA(absenceListData.PageIndex -1)">
                                            <i class="far fa-chevron-left asp-label"

                                               style="margin: 6px 10px; cursor: pointer; font-size: 0.7em;"></i>
                                        </span>
                                        <span ng-click="changePageA(1)" style="cursor: pointer;">
                        <i class="far fa-chevron-left asp-label" style="margin-left: -3px; font-size: 0.7em;"></i>
                        <i class=" far fa-chevron-left asp-label" style="font-size: 0.7em;"></i>
                      </span>
                                    </div>
                                </div>
                                <div class="col-2">
                                    <span class="medium-font">تعداد کل: <strong>{{absenceListData.TotalRows}}</strong></span>
                                </div>
                                <div class="col-5">
                                    <div class="float-left">
                                        <div class="mt-1" style="width: 200px">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text">
                                                        تعداد ردیف
                                                    </label>
                                                </div>
                                                <input placeholder="10" type="number" min="1" max="1000"
                                                       class="form-control text-center"
                                                       ng-keyup="changePageSizeA(pageSizeA)" ng-model="pageSizeA">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card" ng-if="ShowVacationGrid">
                            <div style="overflow-x: auto !important; max-height: 200px">
                                <table class="newTableStyle">
                                    <thead>
                                    <tr>
                                        <th style="min-width: 100px">نوع مرخصی</th>
                                        <th style="min-width: 100px">از تاریخ</th>
                                        <th style="min-width: 100px">تا تاریخ</th>
                                        <th style="min-width: 100px">تعداد روز</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr class="" ng-repeat="item in vacationListData.item1 track by $index">
                                        <td class="text-center p-1">{{item.DayLeaveType}}</td>
                                        <td class="text-center p-1">{{item.FromDatePersian}}</td>
                                        <td class="text-center p-1">{{item.ToDatePersian}}</td>
                                        <td class="text-center p-1">{{item.CountDayLeave}}</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="row col-12">
                                <div class="col-5">
                                    <div class="row">
                      <span ng-click="changePageV(vacationListData.TotalPages)" style="cursor: pointer;">
                        <i class="far fa-chevron-right" style="font-size: 0.7em;"></i>
                        <i class="far fa-chevron-right asp-label" style="margin-right: -3px; font-size: 0.7em;"></i>
                      </span>
                                        <span ng-click="changePageV(vacationListData.PageIndex+1)">
                                            <i class="far fa-chevron-right asp-label"

                                               style="margin: 6px 10px; cursor: pointer; font-size: 0.7em;"></i>
                                       </span>
                                        <input class="form-control text-center" id="pagingD"
                                               placeholder="{{vacationListData.PageIndex}} از  {{vacationListData.TotalPages}}"
                                               style="width: 30%; display: inline-block; position: relative; top: 0px; font-size: 0.7em;"
                                               ng-model="pageNumberVu"
                                               ng-keyup="changePageV(pageNumberVu);">
                                        <span ng-click="changePageV(vacationListData.PageIndex -1)">
                                            <i class="far fa-chevron-left asp-label"

                                               style="margin: 6px 10px; cursor: pointer; font-size: 0.7em;"></i>
                                       </span>
                                        <span ng-click="changePageV(1)" style="cursor: pointer;">
                        <i class="far fa-chevron-left asp-label" style="margin-left: -3px; font-size: 0.7em;"></i>
                        <i class=" far fa-chevron-left asp-label" style="font-size: 0.7em;"></i>
                      </span>
                                    </div>
                                </div>
                                <div class="col-2">
                                    <span class="medium-font">تعداد کل: <strong>{{vacationListData.TotalRows}}</strong></span>
                                </div>
                                <div class="col-5">
                                    <div class="float-left">
                                        <div class="mt-1" style="width: 200px">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text">
                                                        تعداد ردیف
                                                    </label>
                                                </div>
                                                <input placeholder="10" type="number" min="1" max="1000"
                                                       class="form-control text-center"
                                                       ng-keyup="changePageSizeV(pageSizeV)" ng-model="pageSizeV">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h6 class="accordion-header p-0">
                        <div class="HeaderForm d-flex">
                            <label class="font-weight-bold medium-font pt-1 text-white ml-2">ماه</label>
                            <select ng-init="mmonth = thisMonth" ng-model="mmonth" ng-change="monthSelected(mmonth)"
                                    class="form-control float-right" style="width: 100px">
                                <option ng-value="">انتخاب نمایید..</option>
                                <option ng-repeat="month in monthsObjInfo" ng-value="month.id">{{month.name}}</option>
                            </select>

                            <div class="accordion-button pointer float-left position-absolute"
                                 style="left: 15px; top: 20px" data-toggle="collapse" data-target="#collapse-2"
                                 aria-expanded="true"
                                 aria-controls="collapse-2">
                                <i class="far fa-chevron-down"></i>
                            </div>
                        </div>
                    </h6>
                    <div class="collapse show" id="collapse-2">
                        <div class="row col-12">
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1 label-width-160px">
                                            جمع تاخیر ورود
                                        </label>
                                    </div>
                                    <input class="form-control" ng-value="monthResult._SumStartDelay" readonly>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1 label-width-160px">
                                            جمع تعجیل خروج
                                        </label>
                                    </div>
                                    <input class="form-control" ng-value="monthResult._SumEndHurry" readonly>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1 label-width-160px">
                                            جمع غیبت بین روز
                                        </label>
                                    </div>
                                    <input class="form-control" ng-value="monthResult._SumSumAbsence" readonly>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1 label-width-160px">
                                            جمع کسر کار
                                        </label>
                                    </div>
                                    <input class="form-control" ng-value="monthResult.payrollDeductionPerDay" readonly>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1 label-width-160px">
                                            جمع اضافه کار
                                        </label>
                                    </div>
                                    <input class="form-control" ng-value="monthResult._SumExtraTime" readonly>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1 label-width-160px">
                                            جمع ماموریت ساعتی
                                        </label>
                                    </div>
                                    <input class="form-control" ng-value="monthResult._SumWorkTimeHM" readonly>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1 label-width-160px">
                                            جمع مرخصی ساعتی(ساعت)
                                        </label>
                                    </div>
                                    <input class="form-control" ng-value="monthResult._SumWorkTimeHL" readonly>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1 label-width-160px">
                                            غیبت بین روز(ساعت)
                                        </label>
                                    </div>
                                    <input class="form-control" ng-value="monthResult._SumAbsence" readonly>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1 label-width-160px">
                                            مجموع شیفت
                                        </label>
                                    </div>
                                    <input class="form-control" ng-value="monthResult._SumShiftTime" readonly>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1 label-width-160px">
                                            مدت حضور قانونی
                                        </label>
                                    </div>
                                    <input class="form-control" ng-value="monthResult._SumWorkTimeN" readonly>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1 label-width-160px">
                                            مجموع حضور
                                        </label>
                                    </div>
                                    <input class="form-control" ng-value="monthResult._SumSumPresence" readonly>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1 label-width-160px">
                                            مجموع تردد ناقص
                                        </label>
                                    </div>
                                    <input class="form-control" ng-value="monthResult._SumWorkTimeIC" readonly>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-1 label-width-160px">
                                            مجموع اضافه کار واقعی
                                        </label>
                                    </div>
                                    <input class="form-control" ng-value="monthResult._SumExtraTime" readonly>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-6">
                                <div class="form-check text-right">
                                    <input ng-init="HurryAbsenceDelay = false" type="checkbox" class="form-check-input"
                                           ng-model="HurryAbsenceDelay"
                                           ng-change="chengeHurryAbsenceDelay(HurryAbsenceDelay)"
                                           id="HurryAbsenceDelay">
                                    <label class="form-check-label asp-label pr-4" for="HurryAbsenceDelay">
                                        غیبت،تاخیر,تعجیل
                                    </label>
                                </div>
                            </div>
                        </div>
                        <style>
                            table {
                                border-collapse: separate;
                                border-spacing: 0;
                            }

                            thead tr:first-child th {
                                position: sticky;
                                background-color: lightblue;
                                top: 0;
                                opacity: 1 !important;
                                z-index: 10 !important;
                            }

                            tbody td:last-child, thead th:last-child {
                                position: sticky;
                                left: 0;
                                background-color: white;
                                z-index: 9 !important;
                            }

                            .bg-absence {
                                background-color: rgb(250, 0, 0, 0.18)
                            }

                            .bg-incomplete {
                                background-color: rgb(250, 255, 0, 0.18)
                            }

                            .bg-startDelay {
                                background-color: rgb(0, 255, 0, 0.18)
                            }

                            .bg-endHurry {
                                background-color: rgb(0, 0, 255, 0.18)
                            }

                            .bg-absenceBet {
                                background-color: rgb(100, 0, 0, 0.18)
                            }
                        </style>
                        <div class="card">

                            <div style="overflow-x: auto !important; max-height: 300px">
                                <table class="newTableStyle">
                                    <thead>
                                    <tr>
                                        <th style="min-width: 50px">تاریخ</th>
                                        <th style="min-width: 50px">روز هفته</th>
                                        <th style="min-width: 50px">وضعیت حضور</th>
                                        <th style="min-width: 50px">تاخیر ورود</th>
                                        <th style="min-width: 50px">تعجیل خروج</th>
                                        <th style="min-width: 50px">غیبت بین روز</th>
                                        <th style="min-width: 50px">غیبت ساعتی</th>
                                        <th style="min-width: 50px">مرخصی ساعتی</th>
                                        <th style="min-width: 50px">ماموریت ساعتی</th>
                                        <th style="min-width: 50px">مدت اضافه کار</th>
                                        <th style="min-width: 50px">اولین ورود</th>
                                        <th style="min-width: 50px">آخرین خروج</th>
                                        <th style="min-width: 50px">ساعات ورود خروج</th>
                                        <th>گزینه ها</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr class="" ng-repeat="item in gridItem.item1 track by $index"
                                        ng-attr-title="{{item.presenceStatusSreachIdentifier === -106?'دارای غیبت':item.presenceStatusSreachIdentifier === -104?'دارای تردد ناقص':''}}"
                                        ng-class="{'bg-absence':item.presenceStatusSreachIdentifier === -106,'bg-incomplete':item.presenceStatusSreachIdentifier === -104}">
                                        <td class="text-center p-1">{{item.startDayPersian}}</td>
                                        <td class="text-center p-1">{{item.dayNamePersian}}</td>
                                        <td class="text-center p-1">{{item.presenceStatus}}</td>
                                        <td ng-class="{'bg-startDelay':checkFunc(item.startDelay)}"
                                            class="text-center p-1">{{item.startDelay}}
                                        </td>
                                        <td ng-class="{'bg-endHurry':checkFunc(item.endHurry)}" class="text-center p-1">
                                            {{item.endHurry}}
                                        </td>
                                        <td ng-class="{'bg-absenceBet':checkFunc(item.absence)}"
                                            class="text-center p-1">{{item.absence}}
                                        </td>
                                        <td class="text-center p-1">{{item.sumAbsence}}</td>
                                        <td class="text-center p-1">{{item.workTimeHL}}</td>
                                        <td class="text-center p-1">{{item.workTimeHM}}</td>
                                        <td class="text-center p-1">{{item.extraTime}}</td>
                                        <td class="text-center p-1">{{item.minIntTime}}</td>
                                        <td class="text-center p-1">{{item.maxOutTime}}</td>
                                        <td class="text-center p-1 ">
                                            <p class="selectedItems noscroll p-0 m-0">
                                                {{item.allTimeRollCall}}
                                            </p>
                                        </td>
                                        <td class="text-center p-1 ">
                                            <div class="d-flex m-auto justify-content-center">
                                                <span ng-if="getdiffDay(item.startDayPersian,currentDate)===0">روز جاری</span>
                                                <span
                                                        ng-if="item.presenceStatusSreachIdentifier != -106 && item.presenceStatusSreachIdentifier != -104 && item.presenceStatusSreachIdentifier != -101&& item.presenceStatusSreachIdentifier != -102 && getdiffDay(item.startDayPersian,currentDate)>0"
                                                        title="مشاهده"
                                                        ng-click="showSecondGrid(item)">
                                                    <i
                                                            class="far fa-eye ml-1 medium-font pointer"></i>
                                               </span>
                                                <span
                                                        ng-if="item.presenceStatusSreachIdentifier === -104 && getdiffDay(item.startDayPersian,currentDate)>0"
                                                        title="تکمیل تردد"
                                                        ng-click="Completetraffic(item)">
                                                    <i
                                                            class="far fa-edit ml-1 medium-font pointer"></i>
                                               </span>
                                                <div class="dropdown">
                                                    <span
                                                            ng-if="item.presenceStatusSreachIdentifier === -106 && getdiffDay(item.startDayPersian,currentDate)>0"
                                                            id="dropdownMenuLink" data-toggle="dropdown"
                                                            aria-haspopup="true"
                                                            aria-expanded="false" title="درخواست مرخصی/ماموریت روزانه">
                                                        <i
                                                                class="far fa-bars ml-1 medium-font pointer"
                                                        ></i>
                                                    </span>
                                                    <div class="dropdown-menu" style="margin-left: 32px"
                                                         aria-labelledby="dropdownMenuLink">
                                                        <div class="dropdown-item medium-font text-center pointer"
                                                             ng-click="showVacationRequestModal(item)">مرخصی روزانه
                                                        </div>
                                                        <div class="dropdown-item medium-font text-center pointer"
                                                             ng-click="showMissionRequestModal(item)">ماموریت روزانه
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="row col-12">

                                <div class="col-4">
                                    <div class="row">
                      <span ng-click="changePagefirstTable(gridItem.TotalPages)" style="cursor: pointer;">
                        <i class="far fa-chevron-right" style="font-size: 0.7em;"></i>
                        <i class="far fa-chevron-right asp-label" style="margin-right: -3px; font-size: 0.7em;"></i>
                      </span>
                                       <span ng-click="changePagefirstTable(gridItem.PageIndex+1)">
                                            <i class="far fa-chevron-right asp-label"

                                               style="margin: 6px 10px; cursor: pointer; font-size: 0.7em;"></i>
                                       </span>
                                        <input class="form-control text-center" id="pagingD"
                                               placeholder="{{gridItem.PageIndex}} از  {{gridItem.TotalPages}}"
                                               style="width: 30%; display: inline-block; position: relative; top: 0px; font-size: 0.7em;"
                                               ng-model="pageNumberu"
                                               ng-keyup="changePagefirstTable(pageNumberu);">
                                        <span ng-click="changePagefirstTable(gridItem.PageIndex -1)">
                                            <i class="far fa-chevron-left asp-label"

                                               style="margin: 6px 10px; cursor: pointer; font-size: 0.7em;"></i>
                                        </span>
                                        <span ng-click="changePagefirstTable(1)" style="cursor: pointer;">
                        <i class="far fa-chevron-left asp-label" style="margin-left: -3px; font-size: 0.7em;"></i>
                        <i class=" far fa-chevron-left asp-label" style="font-size: 0.7em;"></i>
                      </span>
                                    </div>
                                </div>
                                <div class="row col-2">
                                    <div class="ml-2 small-font">غیبت: <strong class="mr-1"
                                                                               style="width: 5px; height: 5px; border: solid rgb(250, 0, 0, 0.18);"></strong>
                                    </div>
                                    <div class="small-font">تردد ناقص: <strong class="mr-1"
                                                                               style="width: 5px; height: 5px; border: solid rgb(250, 255, 0, 0.18);"></strong>
                                    </div>
                                </div>
                                <div class="col-2">

                                    <span class="medium-font">تعداد کل: <strong>{{gridItem.TotalRows}}</strong></span>
                                </div>
                                <div class="col-4">
                                    <div class="float-left">
                                        <div class="mt-1" style="width: 200px">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text">
                                                        تعداد ردیف
                                                    </label>
                                                </div>
                                                <input placeholder="31" type="number" min="1" max="1000"
                                                       class="form-control text-center"
                                                       ng-keyup="changePageSize(pageSizexx)" ng-model="pageSizexx">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div class="modal fade" id="showTimeField">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-body">
                                            <p class="HeaderForm" ng-click="cancelCompleteTrafficModal()">درخواست ثبت تردد در تاریخ : {{trafficDate}}<i
                                                    class="far fa-close cancelIcon"
                                                    ></i></p>
                                            <div class="card" ng-init="maskInput()">
                                                <div class="mt-1">
                                                    <div class="input-group">
                                                        <div class="input-group-prepend">
                                                            <label class="input-group-text">
                                                                ساعت
                                                            </label>
                                                        </div>
                                                        <input type="text" class="form-control time text-center"
                                                               required
                                                               ng-class="{'border-danger':!traffice.TimeToSend.toString().length}"
                                                               data-autoclose="true" data-placement="bottom"
                                                               autocomplete="off" data-align="top"
                                                               ng-model="traffice.TimeToSend">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card">
                                                <div class="">
                                                    <button type="button" class="new-button float-left"
                                                            ng-disabled="!traffice.TimeToSend.toString().length"
                                                            ng-click="addTrafficRequest(traffice.TimeToSend)"><i
                                                            class=" far fa-check ml-1 "></i>ثبت
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="col-12 d-flex m-auto border border-success"></div>
                                            <div ng-if="preRequest.length">
                                                <p class="HeaderForm bg-danger">درخواست های ثبت شده برای این روز</p>
                                                <div class="card" style="height: 100px; overflow-y: auto">
                                                    <table class="newTableStyle">
                                                        <thead>
                                                        <tr>
                                                            <th>نوع ثبت</th>
                                                            <th>ساعت</th>
                                                            <th>وضعیت</th>
                                                        </tr>
                                                        </thead>
                                                        <tbody>
                                                        <tr ng-repeat="item in preRequest">
                                                            <td class=" text-center">{{item.rollcallTypeTitle}}</td>
                                                            <td class=" text-center">{{item.rollCallTime}}</td>
                                                            <td class=" text-center">{{item.rollCallStateTitle}}</td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal fade" id="SecondGridModal">
                            <div class="modal-dialog modal-xl">
                                <div class="modal-content">
                                    <div class="modal-body">
                                        <p class="HeaderForm">
                                            لیست ترددها در تاریخ {{startDayShow}}
                                           <span ng-click="cancelSecondgrid()">
                                                <i class="far fa-close cancelIcon" ></i>
                                           </span>
                                        </p>
                                        <div class="card">
                                            <div style="overflow-x: auto !important; max-height: 300px">
                                                <table class="newTableStyle">
                                                    <thead>
                                                    <tr>
                                                        <th style="min-width: 100px">از ساعت</th>
                                                        <th style="min-width: 100px">تا ساعت</th>
                                                        <th style="min-width: 100px">وضعیت</th>
                                                        <th style="min-width: 100px">شرح</th>
                                                        <th>گزینه ها</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr class="" ng-repeat="item in secondItemsData track by $index"
                                                        ng-class="{'bg-absence':item.presenceStatusSreachIdentifier === -106,'bg-incomplete':item.presenceStatusSreachIdentifier === -104}">
                                                        <td class="text-center p-1">{{item.startTime}}</td>
                                                        <td class="text-center p-1">{{item.endTime}}</td>
                                                        <td class="text-center p-1">{{item.stateTitle}}</td>
                                                        <td class="text-center p-1">{{item.typeTitle}}</td>
                                                        <td class="text-center p-1 ">
                                                            <select ng-if="item.isConvert" id="selectSta"
                                                                    class="form-control text-center medium-font"
                                                                    ng-model="selectRequestType"
                                                                    ng-change="changeSelectRequest(item,selectRequestType,startDayShow)">
                                                                <option ng-value="1">مرخصی</option>
                                                                <option ng-value="2">ماموریت</option>
                                                            </select>
                                                            <span ng-if="!item.isConvert">-</span>
                                                           <span ng-if="item.isConvert && loadingRequest">
                                                                <i
                                                                   class="spinner-border text-primary position-absolute"
                                                                   style="width: 20px; height: 20px; right: 5px; top: 7px"></i>
                                                           </span>
                                                        </td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>

                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <!-- mission -->
            <div ng-if="selectedSideBar === 3 && !pageLoading">
                <div class="card">
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text">
                                        نوع
                                        مأموریت
                                        کاری
                                    </label>
                                </div>
                                <select ng-init="selectMissionType = 0" ng-change="missionChangeType(selectMissionType)"
                                        ng-model="selectMissionType" class="form-control form-select">
                                    <option ng-value="0">لطفا
                                        انتخاب
                                        نمایید...
                                    </option>
                                    <option ng-value="1">ساعتی
                                    </option>
                                    <option ng-value="2">روزانه
                                    </option>
                                </select>
                            </div>
                        </div>

                    </div>
                </div>
                <!-- =========================  IF MISSION WAS DAILY  ========================-->
                <div ng-if="dayMistionListTrue">
                    <div class="card">
                        <p class="HeaderForm">
                            لیست
                            مأموریت
                            های
                            روزانه
                        </p>
                        <div class="col-4 ms-1 mt-1">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text">
                                        جستجو
                                    </label>
                                </div>
                                <input ng-model="qDM" id="search" class="form-control"
                                       placeholder="نام پرسنل،تاریخ،مدت،وضعیت">
                            </div>

                        </div>
                        <div class="col-12 d-flex justify-content-center m-auto border mt-1 mb-1"></div>
                        <div>
                            <table class="newTableStyle">
                                <thead>
                                <tr>
                                    <th class="w-20">نام
                                        شخص
                                    </th>
                                    <th class="w-10">نوع
                                        مأموریت
                                    </th>
                                    <th class="w-10">از
                                    </th>
                                    <th class="w-10">تا
                                    </th>
                                    <th class="w-10">مدت
                                        مأموریت
                                    </th>
                                    <th class="">وضعیت
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr dir-paginate="item in paginationSelectedPersonnelDM | filter:qDM | itemsPerPage: pageSizeDM"
                                    current-page="currentPageDM"
                                    pagination-id="itemPaginationDM">
                                    <td class="w-20 text-center" ng-bind="item.personName"></td>
                                    <td class="w-10 text-center" ng-bind="item.missionTypeTitle"></td>
                                    <td class="w-10 text-center" ng-bind="convertToShamsi(item.fromDate)"></td>
                                    <td class="w-10 text-center" ng-bind="convertToShamsi(item.toDate)"></td>
                                    <td class="w-10 text-center"
                                        ng-bind="getMissionDays(item.fromDate,item.toDate)"></td>
                                    <td class="text-center">{{item.missionStateTitle}}
                                        <span ng-click="downloadMissionCardDay(item)" title="دریافت برگه ماموریت">
                                            <i
                                               class="far fa-file-archive float-left pointer"
                                               ></i>
                                        </span>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="m-auto d-flex border col-12 justify-content-center mt-2 mb-1"></div>
                        <div class="row">
                            <div class="col-6">
                                <div class=" text-right">
                                    <div ng-if="pageSizeDM != totalLengthDM" class="mt-1" style="width: 400px">
                                        <dir-pagination-controls boundary-links="true" pagination-id="itemPaginationDM"
                                                                 on-page-change="pageChangeHandler(newPageNumber)"
                                                                 template-url="../src/Components/Pagination/dirPagination.tpl.html">
                                        </dir-pagination-controls>
                                    </div>
                                </div>
                            </div>


                        </div>

                    </div>
                </div>
                <!--========================  IF MISSION WAS HOURLY  ==========================-->
                <div ng-if="hourMistionListTrue">
                    <div class="card ">
                        <p class="HeaderForm">
                            لیست
                            مأموریت
                            های
                            ساعتی
                        </p>
                        <div class="col-4 ms-1 mt-1">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text">
                                        جستجو
                                    </label>
                                </div>
                                <input ng-model="qHM" id="search" class="form-control"
                                       placeholder="نام پرسنل،تاریخ،ساعت،وضعیت">
                            </div>

                        </div>
                        <div class="col-12 d-flex justify-content-center m-auto border mt-1 mb-1"></div>
                        <div>
                            <table class="newTableStyle">
                                <thead>
                                <tr>
                                    <th class="w-15">نام
                                        شخص
                                    </th>
                                    <th class="w-5">از
                                    </th>
                                    <th class="w-5">تا
                                    </th>
                                    <th class="w-10">تاریخ
                                        مأموریت
                                    </th>
                                    <th class="w-20">محل مأموریت
                                    </th>
                                    <th class="w-25">موضوع مأموریت
                                    </th>
                                    <th class="w-20">وضعیت
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr dir-paginate="item in paginationSelectedPersonnelHM | filter:qHM | itemsPerPage: pageSizeHM"
                                    current-page="currentPageHM"
                                    pagination-id="itemPaginationHM">
                                    <td>{{item.personName}}
                                    </td>
                                    <td>{{item.fromTime}}
                                    </td>
                                    <td>{{item.toTime}}
                                    </td>
                                    <td>{{convertToShamsi(item.missionDate)}}
                                    </td>
                                    <td>{{item.missionLocation}}
                                    </td>
                                    <td>{{item.subjectMission}}
                                    </td>

                                    <td>{{item.hourMissionStateTitle}}
                                        <span ng-click="downloadMissionCard(item)" title="دریافت برگه ماموریت">
                                            <i
                                               class="far fa-file-archive pointer float-left"
                                               ></i>
                                        </span>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="col-12 d-flex justify-content-center m-auto border mt-2 mb-1"></div>
                        <div class="row">
                            <div class="col-6">
                                <div class=" text-right">
                                    <div ng-if="pageSizeHM != totalLengthHM" class="mt-1" style="width: 300px">
                                        <dir-pagination-controls boundary-links="true" pagination-id="itemPaginationHM"
                                                                 on-page-change="pageChangeHandler(newPageNumber)"
                                                                 template-url="../src/Components/Pagination/dirPagination.tpl.html">
                                        </dir-pagination-controls>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <!-- vacation -->
            <div ng-if="selectedSideBar === 4 && !pageLoading">
                <!--========================= select vacation type =========================-->
                <div class="card">
                    <div class="col-lg-4">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <label class="input-group-text">
                                    نوع مرخصی
                                </label>
                            </div>
                            <select ng-init="changeStateVacation = 0" ng-model="changeStateVacation"
                                    ng-change="changeStateVacationFunc(changeStateVacation)"
                                    class="form-control text-right form-select selectVacationTypeClass"
                                    id="selectVacationType">
                                <option ng-value="0">لطفا انتخاب نمایید...
                                </option>
                                <option ng-value="1">ساعتی
                                </option>
                                <option ng-value="2">روزانه
                                </option>
                            </select>

                        </div>
                    </div>
                </div>

                <!--========================  IF VACATION WAS HOURLY  ==========================-->
                <div ng-if="HourVacationList">
                    <div class="card">
                        <p class="HeaderForm">
                            لیست ساعتی پرسنل
                        </p>
                        <div class="col-md-4 col-lg-4  mr-1">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text">
                                        جستجو
                                    </label>
                                </div>
                                <input ng-model="qH" id="search" class="form-control"
                                       placeholder="نام پرسنل،تاریخ،ساعت،وضعیت">
                            </div>

                        </div>
                        <div class="col-12 d-flex justify-content-center m-auto border mt-1 mb-1"></div>
                        <div>
                            <table class="newTableStyle">
                                <thead>
                                <tr>
                                    <th class="w-20">نام پرسنل</th>
                                    <th class="w-20">از ساعت</th>
                                    <th class="w-20">تا ساعت</th>
                                    <th class="w-20">تاریخ مرخصی</th>
                                    <th class="w-20">وضعیت

                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr dir-paginate="item in paginationSelectedPersonnelH | filter:qH | itemsPerPage: pageSizeHV"
                                    current-page="currentPageHV"
                                    pagination-id="itemPaginationH">
                                    <td class="w-20 text-center">{{item.personName}}</td>
                                    <td class="w-20 text-center">{{item.fromTime}}</td>
                                    <td class="w-20 text-center">{{item.toTime}}</td>
                                    <td class="w-20 text-center">{{convertToShamsi(item.leaveDate)}}</td>
                                    <td class="text-center">{{item.hourLeaveStateTitle}}
                                        <span ng-click="downloadVacationCard(item)" title="دریافت برگه مرخصی">
                                            <i
                                               class="far fa-file-archive pointer float-left"
                                               ></i>
                                        </span>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="m-auto d-flex border col-12 justify-content-center mt-2 mb-1"></div>
                        <div class="row">
                            <div class="col-6">
                                <div class="text-right">
                                    <div ng-if="pageSizeHV != totalLengthH" class="mt-1" style="width: 400px">
                                        <dir-pagination-controls boundary-links="true" pagination-id="itemPaginationH"
                                                                 on-page-change="pageChangeHandler(newPageNumber)"
                                                                 template-url="../src/Components/Pagination/dirPagination.tpl.html">
                                        </dir-pagination-controls>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- =========================  IF VACATION WAS DAILY  ========================-->
                <div ng-if="DayVacationList">
                    <div class="card">
                        <p class="HeaderForm">
                            لیست روزانه پرسنل
                        </p>
                        <div class="col-md-4 col-lg-4 mr-1">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text">
                                        جستجو
                                    </label>
                                </div>
                                <input ng-model="qD" id="search" class="form-control text-right"
                                       placeholder="نام پرسنل،تاریخ،مدت،وضعیت">
                            </div>
                        </div>
                        <div class="col-12 d-flex justify-content-center m-auto border mt-1 mb-1"></div>
                        <div>
                            <table class="newTableStyle">
                                <thead>
                                <tr>
                                    <th class="w-15">نام شخص</th>
                                    <th class="w-15">نوع مرخصی</th>
                                    <th class="w-15">از تاریخ</th>
                                    <th class="w-15">تا تاریخ</th>
                                    <th class="w-15">مدت مرخصی</th>
                                    <th class="w-25">وضعیت
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr dir-paginate="item in paginationSelectedPersonnelD | filter:qD | itemsPerPage: pageSizeDV"
                                    current-page="currentPageDV"
                                    pagination-id="itemPaginationD">
                                    <td class="w-15 text-center">{{item.personName}}</td>
                                    <td class="w-15 text-center">{{item.dayLeaveTypeTitle}}</td>
                                    <td class="w-15 text-center">{{convertToShamsi(item.fromDate)}}</td>
                                    <td class="w-15 text-center">{{convertToShamsi(item.toDate)}}</td>
                                    <td class="w-15 text-center">{{item.leaveDayCount}}</td>
                                    <td class=" text-center">{{item.leaveStateTitle}}
                                        <div class="float-left text-left">
                                            <span ng-click="downloadVacationCardDay(item)" title="دریافت برگه مرخصی">
                                                <i
                                                   class="far fa-file-archive pointer" ></i>
                                            </span>

                                        </div>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="m-auto d-flex border col-12 justify-content-center mt-2 mb-1"></div>
                        <div class="row">
                            <div class="col-6">
                                <div class="text-right">
                                    <div ng-if="pageSizeDV != totalLengthD" class="mt-1" style="width: 400px">
                                        <dir-pagination-controls boundary-links="true" pagination-id="itemPaginationD"
                                                                 on-page-change="pageChangeHandler(newPageNumber)"
                                                                 template-url="../src/Components/Pagination/dirPagination.tpl.html">
                                        </dir-pagination-controls>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- wage bill -->
            <div ng-if="selectedSideBar === 5 && !pageLoading">
                <div class="HeaderForm d-flex">
                    <label class="font-weight-bold medium-font pt-1 text-white ml-2">ماه</label>
                    <select ng-init="mmonthF = thisMonth" ng-model="mmonthF" ng-change="monthSelectedFish(mmonthF)"
                            class="form-control float-right" style="width: 100px">
                        <option ng-value="">انتخاب نمایید..</option>
                        <option ng-repeat="month in monthsObjInfo" ng-value="month.id">{{month.name}}</option>
                    </select>
                    <label class="font-weight-bold medium-font pt-1 text-white ml-2">سال</label>
                    <select ng-init="myearF = thisYear" ng-model="myearF" ng-change="yearSelectedF(myearF)"
                            class="form-control float-right" style="width: 100px">
                        <option ng-value="">انتخاب نمایید..</option>
                        <option ng-repeat="year in yearsArr" ng-value="year.name">{{year.name}}</option>
                    </select>
                </div>
                <div class="card">
                    <div class="row col-12">
                        <div class="col-md-4 col-sm-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text text-1 label-width-160px">
                                        ساعت اضافه کار
                                    </label>
                                </div>
                                <input class="form-control" ng-value="vagebilldata.payFishEmpModels[0].overTimeHours"
                                       readonly>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text text-1 label-width-160px">
                                        شماره حساب
                                    </label>
                                </div>
                                <input class="form-control" ng-value="vagebilldata.payFishEmpModels[0].accountNumber"
                                       readonly>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text text-1 label-width-160px">
                                        کارکرد
                                    </label>
                                </div>
                                <input class="form-control" ng-value="vagebilldata.payFishEmpModels[0].functionCounts"
                                       readonly>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text text-1 label-width-160px">
                                        شماره حساب پس انداز فرد
                                    </label>
                                </div>
                                <input class="form-control" ng-value="vagebilldata.payFishEmpModels[0].emlSavingAccount"
                                       readonly>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text text-1 label-width-160px">
                                        شماره حساب پس انداز کارفرما
                                    </label>
                                </div>
                                <input class="form-control"
                                       ng-value="vagebilldata.payFishEmpModels[0].accountNumbeSaving" readonly>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-6">
                            <button type="button" class="new-button float-left" ng-click="printBill(mmonthF,myearF)">
                                <i class="far fa-print"></i>
                                چاپ
                                <div class="spinner-border text-warning position-absolute"
                                     style="width: 8px; height: 8px; margin-right: 8px; margin-top: 12px"
                                     ng-if="loadingBillPrint"></div>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div style="overflow-x: auto !important; max-height: 300px">
                        <table class="newTableStyle">
                            <thead>
                            <tr>
                                <th style="min-width: 50px">حقوق و مزایا</th>
                                <th style="min-width: 50px">مبلغ</th>
                                <th style="min-width: 50px">کسورات</th>
                                <th style="min-width: 50px">مبلغ</th>
                                <th style="min-width: 50px">بدهی / پس انداز</th>
                                <th style="min-width: 50px">قسط ماه</th>
                                <th style="min-width: 50px">مانده / ذخیره</th>
                                <th style="min-width: 50px">سهم دولت</th>
                                <th style="min-width: 50px">مبلغ</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr class="" ng-repeat="item in vagebilldata.payInfoModels track by $index">
                                <td class="text-center p-1">{{item.title1}}</td>
                                <td class="text-center p-1">{{addComma(item.pay1)}}</td>
                                <td class="text-center p-1">{{item.title2}}</td>
                                <td class="text-center p-1">{{addComma(item.pay2)}}</td>
                                <td class="text-center p-1">{{item.title3}}</td>
                                <td class="text-center p-1">{{addComma(item.pay3)}}</td>
                                <td class="text-center p-1">{{addComma(item.remain)}}</td>
                                <td class="text-center p-1">{{item.title4}}</td>
                                <td class="text-center p-1">{{addComma(item.pay4)}}</td>

                            </tr>
                            <tr ng-if="!vagebilldata.payInfoModels.length">
                                <td class="col text-center" colspan="9">داده ای وجود ندارد ...</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="card">
                    <div class="row col-12">
                        <div class="col-md-4 col-sm-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text text-1 label-width-160px">
                                        جمع حقوق و مزایا(ریال)
                                    </label>
                                </div>
                                <input class="form-control" ng-value="addComma(sumVages)" readonly>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text text-1 label-width-160px">
                                        مشمول بازنشستگی
                                    </label>
                                </div>
                                <input class="form-control"
                                       ng-value="addComma(vagebilldata.payFishEmpModels[0].payContain)" readonly>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text text-1 label-width-160px">
                                        جمع کسورات(ریال)
                                    </label>
                                </div>
                                <input class="form-control" ng-value="addComma(sumReduced)" readonly>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text text-1 label-width-160px">
                                        مشمول مالیات (ماه جارِی)
                                    </label>
                                </div>
                                <input class="form-control"
                                       ng-value="addComma(vagebilldata.payFishEmpModels[0].taxable)" readonly>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text text-1 label-width-160px">
                                        خالص پرداختی(ریال)
                                    </label>
                                </div>
                                <input class="form-control" ng-value="addComma(pureVage)" readonly>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text text-1 label-width-160px">
                                        شماره دفترچه بیمه
                                    </label>
                                </div>
                                <input class="form-control" ng-value="vagebilldata.payFishEmpModels[0].taminInsNo"
                                       readonly>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- assessment report -->
            <div ng-if="selectedSideBar === 7 && !pageLoading" ng-init="getPeriods()">
                <div class="card">
                    <div class="row">
                        <div class="input-group col-md-4">
                            <div class="input-group-prepend">
                                <label class="input-group-text" style="height: 25px">
                                    دوره ارزشیابی
                                </label>
                            </div>
                            <select class="form-control" ng-init="searchItems.PriodDate =null"
                                    ng-model="searchItems.PriodDate" ng-change="changePriod(searchItems.PriodDate)">
                                <option ng-value="null">لطفا انتخاب نمایید...</option>
                                <option ng-repeat="item in PriodItems track by item.Id" ng-value="item.Id">
                                    {{item.Title}}
                                </option>
                            </select>
                        </div>
                        <div class="col-md-8">
                            <div class="float-left">
                                <button class="new-button" ng-click="getDataTable()">
                                    جستجو
                                    <i class="far fa-search"></i>
                                    <div style="width: 8px; height: 8px"
                                         class="spinner-border text-warning" ng-if="loadingSearch"></div>
                                </button>
                            </div>
                            <div class="float-right">
                                <strong
                                        class="text-center medium-font text-danger"><em>توجه!!! فقط فرم هایی که دارای
                                    مقدار هستند
                                    قابل نمایش اند.</em></strong>
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <div class="card">
                        <table class="newTableStyle" id="parentTable">
                            <thead>
                            <tr>
                                <th style="width: 10%">شماره فرم</th>
                                <th style="width: 10%">تاریخ شروع</th>
                                <th style="width: 30%">وضعیت</th>
                                <th style="width: 30%">امتیاز ارزشیابی</th>
                                <th style="width: 20%">چاپ فرم</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="priod in priods.Items | filter:{HasAnyValue:true}">
                                <td>{{priod.Form.Code}}
                                </td>
                                <td>{{priod.StartDatePersian}}
                                </td>
                                <td>{{priod.MainState}}
                                </td>
                                <td>{{priod.TotalCalculatedScoreValue}}
                                </td>
                                <td class="position-relative">
                                        <span title="چاپ فرم"
                                              ng-click="ShowPrintFormModal(priod)">
                                            <i class="far fa-print pointer"></i>
                                        </span>
                                    <div style="width: 15px; height: 15px;" class="spinner-border text-primary"
                                         ng-if="priod.loadingPrint"></div>
                                </td>
                            </tr>
                            <tr ng-if="!priods.Items.length">
                                <td colspan="5">فرمی برای نمایش وجود ندارد...</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!-- loading-->
            <div ng-if="pageLoading" class="m-auto p-2 rounded w-50 text-primary font-weight-bold">
                <div class="d-flex justify-content-center m-auto">
                    <i class="spinner-border text-primary" style="width: 50px; height: 50px;"></i>
                </div>
                <div class="mt-2">
                    <h3 class="text-center">درحال بارگذاری...</h3>
                </div>
            </div>
        </div>
    </div>

</form>
<!------------------- select manager to send modal ------------------------->
<div class="modal fade" id="selectManagers" style="z-index: 2002">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                <p class="HeaderForm">
                    انتخاب مسئول مربوطه
                   <span ng-click="cancelManagerSelection()">
                        <i class="far fa-close cancelIcon" ></i>
                   </span>
                </p>
                <div class="card">
                    <div class="row">
                        <div class="col-sm-12">
                            <div>
                                <table class="newTableStyle">
                                    <thead>
                                    <tr>
                                        <th style="width: 5%;"></th>
                                        <th style="width: 95%;">نام و نام خانوادگی
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="manager in managers.Items">
                                        <td>
                                            <input type="checkbox" class="" ng-click="Addmanagers(manager.Id)"
                                                   id="select-manager-{{manager.Id}}">
                                        </td>
                                        <td>{{manager.FirstName}} {{manager.LastName}}
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="row">
                        <div class="col-sm-12" style="text-align: left;">
                            <button type="button" class="new-button red" ng-click="cancelManagerSelection()">
                                <i class="far fa-close"></i>
                                انصراف
                            </button>
                            <button ng-if="!buttonsArrayShowDay && !buttonsArrayShowDayM" type="button"
                                    class="new-button green" ng-click="confirmSelectManagers()">
                                <i class="far fa-check"></i>
                                تایید
                            </button>
                            <button ng-if="buttonsArrayShowDay" type="button" class="new-button green"
                                    ng-click="confirmSelectManagersDay()">
                                <i class="far fa-check"></i>
                                تایید
                            </button>
                            <button ng-if="buttonsArrayShowDayM" type="button" class="new-button green"
                                    ng-click="confirmSelectManagersDayM()">
                                <i class="far fa-check"></i>
                                تایید
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!------------------- closed list modal ---------------------->
<div class="modal fade" id="showClosedModal">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-body">
                <p class="HeaderForm">
                    لیست محاسبات بسته شده
                  <span ng-click="closeClosedList()" title="بستن" >
                        <i class="far fa-close cancelIcon" ></i>
                  </span>
                </p>

                <div>
                    <table class="newTableStyle">
                        <thead>
                        <tr>
                            <th class="w-20">نام</th>
                            <th class="w-20">کد پرسنلی</th>
                            <th class="w-20">تاریخ بستن</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="item in showClosedList">
                            <td class="w-20 text-center">{{item.PersonName}}</td>
                            <td class="w-20 text-center">{{item.DossierNo}}</td>
                            <td class="w-20 text-center">{{item.RollCallDatePersian}}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="card">
                    <div style="text-align: left;">
                        <button type="button" class="new-button red" ng-click="closeClosedList()">
                            <i class="far fa-close ml-1"></i>بستن
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- vacation request -->
<div class="modal fade" id="vacationRequestModal">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-body">
                <p class="HeaderForm">
                    درخواست مرخصی روزانه
                   <span title="بستن" ng-click="cancelVacationRequest()">
                        <i class="far fa-close cancelIcon" ></i>
                   </span>
                </p>
                <div class="" ng-init="maskInput()">
                    <form name="CreateDayForms">
                        <div class="row pl-4 pr-4">
                            <div class="col-lg-10 card">
                                <div class="row">
                                    <div class="col-sm-6 col-md-4">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text label-width-100px text-right">
                                                    تاریخ شروع مرخصی
                                                </label>
                                            </div>
                                            <input type="text" autocomplete="off" required name="NstartDayDate"
                                                   ng-class="{'border-danger': CreateDayForms.NstartDayDate.$invalid}"
                                                   ng-disabled="SubmitOccured"
                                                   ng-change="checkLimitation(createDayVacationData.fromDate);setValidatorFn(CreateDayForms,createDayVacationData.fromDate,createDayVacationData.fromDate)"
                                                   class="form-control date-picker text-center "
                                                   data-inputmask-alias="datetime"
                                                   data-inputmask-inputformat="yyyy/mm/dd" id="startDayDate"
                                                   ng-model="createDayVacationData.fromDate">
                                        </div>
                                    </div>
                                    <div class="col-sm-6 col-md-4">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text label-width-100px text-right">
                                                    تاریخ پایان مرخصی
                                                </label>
                                            </div>
                                            <input type="text" autocomplete="off"
                                                   ng-change="setValidatorFn(CreateDayForms,createDayVacationData.fromDate,createDayVacationData.toDate)"
                                                   ng-disabled="SubmitOccured"
                                                   required name="NendDayDate"
                                                   ng-class="{'border-danger': CreateDayForms.NendDayDate.$invalid}"
                                                   class="form-control date-picker text-center"
                                                   data-inputmask-alias="datetime"
                                                   data-inputmask-inputformat="yyyy/mm/dd" id="endDayDate"
                                                   ng-model="createDayVacationData.toDate">
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-4">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text label-width-100px text-right text-right">
                                                    نوع مرخصی
                                                </label>
                                            </div>
                                            <select ng-disabled="CreateDayForms.NstartDayDate.$invalid || CreateDayForms.NendDayDate.$invalid || SubmitOccured"
                                                    ng-options="item.name for item in selectgroupVacationType.item1 track by item.id"
                                                    required
                                                    name="NVacationType"
                                                    ng-model="createDayVacationData.SelectVacationTypeInCreate"
                                                    ng-change="onChangeVacationType(createDayVacationData.SelectVacationTypeInCreate.id)"
                                                    ng-class="{'border-danger': CreateDayForms.NVacationType.$invalid}"
                                                    class="form-control form-select text-right">
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div ng-if="treatment">
                                    <div class="row" ng-init="maskInput()">
                                        <div class="col-sm-6 col-md-4">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text label-width-100px text-right">
                                                        علت مرخصی
                                                    </label>
                                                </div>
                                                <input type="text"
                                                       class="form-control text-center"
                                                       ng-disabled="SubmitOccured"
                                                       autocomplete="off"
                                                       ng-model="createDayVacationData.subjectLeaveAC"
                                                       ng-click="AutoCompleteSearch('SubjectLeaveAC')"
                                                       ng-blur="AutoCompleteSearchCreate(createDayVacationData.subjectLeaveAC,'SubjectLeaveAC')"
                                                       ng-keyup="AutoCompleteSearch('SubjectLeaveAC')">
                                            </div>
                                            <div class="card position-absolute"
                                                 style="z-index: 100; width: inherit;"
                                                 ng-class="{'hidden': !showAutoCompleteReason}">
                                                <div>
                                                    <table class="newTableStyle">
                                                        <thead>
                                                        <tr>
                                                            <td>عنوان</td>
                                                        </tr>
                                                        </thead>
                                                        <tbody>
                                                        <tr ng-if="wordListReason.length"
                                                            ng-repeat="item in wordListReason track by item.id"
                                                            ng-click="selectPredict(item.description,'SubjectLeaveAC')">
                                                            <td class="text-center">
                                                                <strong class="">{{item.description}}</strong>
                                                            </td>
                                                        </tr>
                                                        <tr ng-if="!wordListReason.length">
                                                            <td class="text-center">داده ای برای نمایش وجود ندارد😥</td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6 col-md-4">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text label-width-100px text-right">
                                                        واحد درمانی
                                                    </label>
                                                </div>
                                                <input type="text"
                                                       class="form-control text-center"
                                                       ng-disabled="SubmitOccured"
                                                       autocomplete="off"
                                                       ng-model="createDayVacationData.treatmentUnitAC"
                                                       ng-click="AutoCompleteSearch('TreatmentUnitAC')"
                                                       ng-blur="AutoCompleteSearchCreate(createDayVacationData.treatmentUnitAC,'TreatmentUnitAC')"
                                                       ng-keyup="AutoCompleteSearch('TreatmentUnitAC')">
                                            </div>
                                            <div class="card position-absolute"
                                                 style="z-index: 100; width: inherit;"
                                                 ng-class="{'hidden': !showAutoCompleteTreatmentUnitAC}">
                                                <div>
                                                    <table class="newTableStyle">
                                                        <thead>
                                                        <tr>
                                                            <td class="">عنوان</td>
                                                        </tr>
                                                        </thead>
                                                        <tbody>
                                                        <tr ng-if="wordListUnit.length"
                                                            ng-repeat="item in wordListUnit track by item.id"
                                                            ng-model="item.description"
                                                            ng-click="selectPredict(item.description,'TreatmentUnitAC')">
                                                            <td class="text-center">
                                                                <strong class="">{{item.description}}</strong>
                                                            </td>
                                                        </tr>
                                                        <tr ng-if="!wordListUnit.length">
                                                            <td class="text-center">داده ای برای نمایش وجود ندارد😥</td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-sm-6 col-md-4">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text label-width-100px text-right">
                                                        پزشک معتمد
                                                    </label>
                                                </div>
                                                <input type="text"
                                                       ng-disabled="SubmitOccured"
                                                       class="form-control text-center"
                                                       autocomplete="off"
                                                       ng-model="createDayVacationData.trustedDoctorAC"
                                                       ng-click="AutoCompleteSearch('TrustedDoctorAC')"
                                                       ng-blur="AutoCompleteSearchCreate(createDayVacationData.trustedDoctorAC,'TrustedDoctorAC')"
                                                       ng-keyup="AutoCompleteSearch('TrustedDoctorAC')">
                                            </div>
                                            <div class="card position-absolute"
                                                 style="z-index: 100; width: inherit;"
                                                 ng-class="{'hidden': !showAutoCompleteTrustedDoctorAC}">
                                                <div>
                                                    <table class="newTableStyle">
                                                        <thead>
                                                        <tr>
                                                            <td class="">عنوان</td>
                                                        </tr>
                                                        </thead>
                                                        <tbody>
                                                        <tr ng-repeat="item in wordListDoctor track by item.id"
                                                            ng-model="item.description"
                                                            ng-click="selectPredict(item.description,'TrustedDoctorAC')">

                                                            <td class="text-center">
                                                                <strong class="">{{item.description}}</strong>
                                                            </td>
                                                        </tr>
                                                        <tr ng-if="!wordListDoctor.length">
                                                            <td class="text-center">داده ای برای نمایش وجود ندارد😥</td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6 col-md-4">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text label-width-100px text-right">
                                                        پزشک معالج
                                                    </label>
                                                </div>
                                                <input ng-disabled="SubmitOccured" id="englishName" type="text"
                                                       class="form-control text-center" autocomplete="off"
                                                       ng-model="createDayVacationData.treatmentDoctor">
                                            </div>
                                        </div>
                                        <div class="col-sm-6 col-md-4">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text label-width-100px text-right">
                                                        نظام پزشکی
                                                    </label>
                                                </div>
                                                <input ng-disabled="SubmitOccured" type="text" autocomplete="off"
                                                       class="form-control text-center "
                                                       ng-model="createDayVacationData.doctorialNum">
                                            </div>
                                        </div>
                                        <div class="col-sm-6 col-md-4">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text label-width-100px text-right">
                                                        شماره نامه
                                                    </label>
                                                </div>
                                                <input ng-disabled="SubmitOccured" type="text" autocomplete="off"
                                                       class="form-control text-center "
                                                       ng-model="createDayVacationData.letterNum">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div ng-if="hardDisease">
                                    <div class="row" ng-init="maskInput()">
                                        <div class="col-sm-6 col-md-4">
                                            <div style="margin-bottom: 15px;">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <label class="input-group-text label-width-100px text-right">
                                                            شماره مجوز
                                                        </label>
                                                    </div>
                                                    <input ng-disabled="SubmitOccured" type="text" autocomplete="off"
                                                           class="form-control text-center "
                                                           ng-model="createDayVacationData.licenseNum">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6 col-md-4">
                                            <div style="margin-bottom: 15px;">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <label class="input-group-text label-width-100px text-right">
                                                            تاریخ مجوز
                                                        </label>
                                                    </div>
                                                    <input ng-disabled="SubmitOccured" type="text" id="licenseDate"
                                                           autocomplete="off"
                                                           class="form-control date-picker text-center "
                                                           data-inputmask-alias="datetime"
                                                           data-inputmask-inputformat="yyyy/mm/dd"
                                                           ng-model="createDayVacationData.licenseDate">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div ng-if="maternity">
                                    <div class="row" ng-init="maskInput()">
                                        <div class="col-sm-6 col-md-4">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text label-width-100px text-right">
                                                        واحد درمانی
                                                    </label>
                                                </div>
                                                <input type="text"
                                                       class="form-control text-center"
                                                       ng-disabled="SubmitOccured"
                                                       autocomplete="off"
                                                       ng-model="createDayVacationData.treatmentUnitAC"
                                                       ng-click="AutoCompleteSearch('TreatmentUnitAC')"
                                                       ng-blur="AutoCompleteSearchCreate(createDayVacationData.treatmentUnitAC,'TreatmentUnitAC')"
                                                       ng-keyup="AutoCompleteSearch('TreatmentUnitAC')">
                                            </div>
                                            <div class="card position-absolute"
                                                 style="z-index: 100; width: inherit;"
                                                 ng-class="{'hidden': !showAutoCompleteTreatmentUnitAC}">
                                                <div>
                                                    <table class="newTableStyle">
                                                        <thead>
                                                        <tr>
                                                            <td>عنوان</td>
                                                        </tr>
                                                        </thead>
                                                        <tbody>
                                                        <tr ng-if="wordListUnit.length"
                                                            ng-repeat="item in wordListUnit track by item.id"
                                                            ng-click="selectPredict(item.description,'TreatmentUnitAC')">
                                                            <td class="text-center p-0">
                                                                <p class="mt-2 p-0">{{item.description}}</p>
                                                            </td>
                                                        </tr>
                                                        <tr ng-if="!wordListUnit.length">
                                                            <td class="text-center">داده ای برای نمایش وجود ندارد😥</td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-sm-6 col-md-4">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text label-width-100px text-right">
                                                        پزشک معتمد
                                                    </label>
                                                </div>
                                                <input type="text"
                                                       ng-disabled="SubmitOccured"
                                                       class="form-control text-center"
                                                       autocomplete="off"
                                                       ng-model="createDayVacationData.trustedDoctorAC"
                                                       ng-click="AutoCompleteSearch('TrustedDoctorAC')"
                                                       ng-blur="AutoCompleteSearchCreate(createDayVacationData.trustedDoctorAC,'TrustedDoctorAC')"
                                                       ng-keyup="AutoCompleteSearch('TrustedDoctorAC')">
                                            </div>
                                            <div class="card position-absolute"
                                                 style="z-index: 100; width: inherit;"
                                                 ng-class="{'hidden': !showAutoCompleteTrustedDoctorAC}">
                                                <div>
                                                    <table class="newTableStyle">
                                                        <thead>
                                                        <tr>
                                                            <td>عنوان</td>
                                                        </tr>
                                                        </thead>
                                                        <tbody>
                                                        <tr ng-if="wordListDoctor.length"
                                                            ng-repeat="item in wordListDoctor track by item.id"
                                                            ng-click="selectPredict(item.description,'TrustedDoctorAC')">
                                                            <td class="text-center p-0">
                                                                <p class="mt-2 p-0">{{item.description}}</p>
                                                            </td>
                                                        </tr>
                                                        <tr ng-if="!wordListDoctor.length">
                                                            <td class="text-center">داده ای برای نمایش وجود ندارد😥</td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6 col-md-4">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text label-width-100px text-right">
                                                        پزشک معالج
                                                    </label>
                                                </div>
                                                <input ng-disabled="SubmitOccured" type="text"
                                                       class="form-control text-center" autocomplete="off"
                                                       ng-model="createDayVacationData.treatmentDoctor">
                                            </div>
                                        </div>
                                        <div class="col-sm-6 col-md-4">
                                            <div style="margin-bottom: 15px;">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <label class="input-group-text label-width-100px text-right">
                                                            نظام پزشکی
                                                        </label>
                                                    </div>
                                                    <input ng-disabled="SubmitOccured" type="text" autocomplete="off"
                                                           class="form-control text-center "
                                                           ng-model="createDayVacationData.doctorialNum">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6 col-md-4">
                                            <div style="margin-bottom: 15px;">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <label class="input-group-text label-width-100px text-right">
                                                            شماره نامه
                                                        </label>
                                                    </div>
                                                    <input ng-disabled="SubmitOccured" type="text" autocomplete="off"
                                                           class="form-control text-center "
                                                           ng-model="createDayVacationData.letterNum">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div ng-if="entitlement">
                                    <div class="row">
                                        <div class="col-lg-4">
                                            <div class="input-group ">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text text-start w_130">
                                                        مدت مرخصی انتخابی
                                                    </label>
                                                </div>
                                                <input dir="ltr" type="text" class="form-control text-center "
                                                       ng-value="leaveDayInfo.leaveDays">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text pl-3 pt-3 pb-3 pr-1 text-right">
                                                    توضیحات (آدرس و تلفن تماس)
                                                </label>
                                            </div>
                                            <input ng-disabled="SubmitOccured" type="text" class="form-control"
                                                   autocomplete="off" style="min-height: 50px;" multiple="true"
                                                   ng-model="createDayVacationData.description">
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="card col-lg-2" style="height: 150px;">
                                <p class="HeaderForm small-font font-weight-bold">
                                    لیست ترددها در بازه انتخابی
                                </p>
                                <div class="d-flex">
                                    <div class="col-6"><span class="big-font">تاریخ</span></div>
                                    <div class="col-6"><span class="big-font">ساعات</span></div>
                                </div>
                                <div class="selectSideBox" style="overflow-y: auto; overflow-x: hidden">
                                    <div class="row" ng-repeat="item in SideInfoData">
                                        <div class="col-6"><span class="small-font">{{item.PersianDate}}</span></div>
                                        <div class="col-6"><span class="small-font">{{item.AllTimeRollCall}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div ng-if="entitlement" class="card">
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="mb-1">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text text-start label-width-200px">
                                                    مانده مرخصی
                                                </label>
                                            </div>
                                            <input dir="ltr" type="text" class="form-control text-center "
                                                   ng-value="IntitlementInfo.sumLeaveRemaining" readonly>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="mb-1">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text text-start label-width-200px">
                                                    مدت غیبت
                                                </label>
                                            </div>
                                            <input dir="ltr" type="text" class="form-control text-center "
                                                   ng-value="IntitlementInfo.sumAbsentsHourPerHour" readonly>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="mb-1">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text text-start label-width-200px">
                                                    جمع ساعتی
                                                </label>
                                            </div>
                                            <input dir="ltr" type="text" class="form-control text-center "
                                                   ng-value="IntitlementInfo.hourLeavePerHour" readonly>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="mb-1">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text text-start label-width-200px">
                                                    مدت تاخیر ورود
                                                </label>
                                            </div>
                                            <input dir="ltr" type="text" class="form-control text-center "
                                                   ng-value="IntitlementInfo.sumStartDelayPerHour" readonly>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="mb-1">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text text-start label-width-200px">
                                                    مدت تعجیل خروج
                                                </label>
                                            </div>
                                            <input dir="ltr" type="text" class="form-control text-center "
                                                   ng-value="IntitlementInfo.sumEndHurryPerHour" readonly>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="mb-1">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text text-start label-width-200px">
                                                    جمع روزانه امسال
                                                </label>
                                            </div>
                                            <input dir="ltr" type="text" class="form-control text-center "
                                                   ng-value="IntitlementInfo.leaveDaily"
                                                   readonly>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="mb-1">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text text-start label-width-200px">
                                                    جمع کل امسال
                                                </label>
                                            </div>
                                            <input dir="ltr" type="text" class="form-control text-center "
                                                   ng-value="IntitlementInfo.sumUsed"
                                                   readonly>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="mb-1">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text text-start label-width-200px">
                                                    مرخصی مجاز در هر نوبت
                                                </label>
                                            </div>
                                            <input dir="ltr" type="text" class="form-control text-center "
                                                   ng-value="leaveDayInfo.everyRound"
                                                   readonly>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="mb-1">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text text-start label-width-200px">
                                                    مرخصی مجاز در سال
                                                </label>
                                            </div>
                                            <input dir="ltr" type="text" class="form-control text-center "
                                                   ng-value="leaveDayInfo.totalYear"
                                                   readonly>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card" ng-if="treatment && treatmentData !=undefined">
                            <div class="row">
                                <div class="col-sm-6 col-md-4">

                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text text-start">
                                                مرخصی رفته در ماه
                                            </label>
                                        </div>
                                        <input dir="ltr" type="text" autocomplete="off"
                                               class="form-control text-center " readonly
                                               ng-value="treatmentData.sickLeaveInMonth">
                                    </div>

                                </div>
                                <div class="col-sm-6 col-md-4">

                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text text-start">
                                                مرخصی رفته در سال
                                            </label>
                                        </div>
                                        <input dir="ltr" type="text" autocomplete="off"
                                               class="form-control text-center " readonly
                                               ng-value="treatmentData.sickLeaveInYear">
                                    </div>

                                </div>
                                <div class="col-sm-6 col-md-4">

                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text text-start">
                                                حداکثر مرخصی قابل استفاده در سال
                                            </label>
                                        </div>
                                        <input dir="ltr" type="text" autocomplete="off"
                                               class="form-control text-center " readonly
                                               ng-value="treatmentData.maxYear">
                                    </div>

                                </div>
                                <div class="col-sm-6 col-md-4">

                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text text-start">
                                                حداکثر مرخصی قابل استفاده در ماه
                                            </label>
                                        </div>
                                        <input dir="ltr" type="text" autocomplete="off"
                                               class="form-control text-center " readonly
                                               ng-value="treatmentData.maxMonth">
                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="card" ng-if="maternity && maternityData!=undefined && PersonnelInfo.Gender!=1">
                            <div class="row">
                                <div class="col-sm-6 col-md-4">

                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text text-start">
                                                تعداد مرخصی رفته
                                            </label>
                                        </div>
                                        <input dir="ltr" type="text" autocomplete="off"
                                               class="form-control text-center " readonly
                                               ng-value="maternityData.numberOfLeaveGone">
                                    </div>

                                </div>
                                <div class="col-sm-6 col-md-4">

                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text text-start">
                                                تعداد مرخصی باقیمانده
                                            </label>
                                        </div>
                                        <input dir="ltr" type="text" autocomplete="off"
                                               class="form-control text-center " readonly
                                               ng-value="maternityData.allowedCntDays">
                                    </div>

                                </div>
                                <div class="col-sm-6 col-md-4">

                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text text-start">
                                                تعداد مرخصی مورد درخواست
                                            </label>
                                        </div>
                                        <input dir="ltr" type="text" autocomplete="off"
                                               class="form-control text-center " readonly
                                               ng-value="maternityData.leaveDays">
                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="card">
                            <div class="row">
                                <div class="d-flex m-auto justify-content-right col-md-8">
                                    <em ng-if="treatment && treatmentData !=undefined && !treatmentData.canEsLeave"
                                        class="text-danger small-font">مدت مرخصی مورد درخواست شما :
                                        <strong>{{treatmentData.leaveDays}}</strong> روز - محدودیت
                                        <strong ng-if="!treatmentData.canSickLeaveMonth">ماهانه</strong>
                                        <strong ng-if="!treatmentData.canSickLeaveYear">،سالانه </strong>وجود دارد
                                    </em>
                                    <strong ng-if="maternity && ((maternityData!=undefined && !maternityData.canMaternityLeaveMonth) || PersonnelInfo.Gender ===1)">
                                        <em class="text-danger small-font">امکان ثبت
                                            مرخصی زایمان برای شما وجود
                                            ندارد
                                        </em>
                                    </strong>
                                    <strong ng-if="entitlement && !leaveDayInfo.canLeave">
                                        <ul class="small-font text-right">
                                            <em class="medium-font text-danger">امکان ثبت مرخصی به دلایل زیر برای شما
                                                وجود ندارد</em>
                                            <li ng-if="IntitlementInfo.sumLeaveRemaining - createDayVacationData.leaveDays <0">
                                                <strong class="small-font text-right">منفی
                                                    شدن مانده مرخصی
                                                </strong>
                                            </li>
                                            <li ng-if="!leaveDayInfo.canLeaveYear">
                                                <strong class="small-font text-right">عدم مطابقت با حداکثر
                                                    مجاز
                                                    سالانه
                                                </strong>
                                            </li>
                                            <li ng-if="!leaveDayInfo.canEveryRound">
                                                <strong class="small-font text-right">عدم مطابقت با حداکثر
                                                    مرخصی
                                                    مجاز
                                                    در
                                                    هر نوبت
                                                </strong>
                                            </li>
                                        </ul>
                                    </strong>
                                </div>
                                <div class="col-md-4">
                                    <button type="button" ng-if="treatment && !buttonsArrayShowDay && !finalRequest"
                                            class="new-button green mr-1 float-left"
                                            ng-disabled="IsLimited || CreateDayForms.$invalid || !treatmentData.canEsLeave"
                                            ng-click="requestDay(createDayVacationData)">

                                        <i class="far fa-check ml-1"></i>ثبت
                                    </button>
                                    <button type="button" ng-if="maternity && !buttonsArrayShowDay && !finalRequest"
                                            class="new-button green mr-1 float-left"
                                            ng-disabled="IsLimited || CreateDayForms.$invalid || maternityData.allowedCntDays ==0 || PersonnelInfo.Gender==1"
                                            ng-click="requestDay(createDayVacationData)">
                                        <i class="far fa-check ml-1"></i>ثبت
                                    </button>
                                    <button type="button" ng-if="entitlement && !buttonsArrayShowDay && !finalRequest"
                                            class="new-button green mr-1 float-left"
                                            ng-disabled="!leaveDayInfo.canLeave || IntitlementInfo.sumLeaveRemaining - leaveDayInfo.leaveDays <0"
                                            ng-click="requestDay(createDayVacationData)">
                                        <i class="far fa-check ml-1"></i>ثبت
                                        <div class="spinner-border text-warning" style="width: 10px; height: 10px;"
                                           ng-if="loadingCreateDay"></div>
                                    </button>
                                    <button type="button"
                                            ng-if="!treatment && !maternity  && !entitlement && !buttonsArrayShowDay && !finalRequest"
                                            class="new-button green mr-1 float-left"
                                            ng-disabled="IsLimited || CreateDayForms.$invalid"
                                            ng-click="requestDay(createDayVacationData)">
                                        <i class="far fa-check ml-1"></i>ثبت
                                    </button>
                                    <button ng-if="buttonsArrayShowDay && !finalRequest"
                                            ng-repeat="item in buttonsArrayDay track by item.ActionId" type="button"
                                            class="new-button ml-1"
                                            ng-click="DynamicConfirmsDay(item,createDayVacationData,'create')"
                                            ng-class="{'bg-info':item.ActionTypeIdentity === 3,'bg-danger':item.ActionTypeIdentity === 2,'bg-primary':item.ActionTypeIdentity === 1}">
                                        <i ng-class="{'fa-check':item.ActionTypeIdentity === 3,'fa-undo':item.ActionTypeIdentity === 2,'fa-send':item.ActionTypeIdentity === 1}"
                                           class="fa"></i>
                                        {{item.ActionTitle}}
                                    </button>
                                </div>

                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- create mission modal -->
<div class="modal fade" id="missionRequestModal">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-body">
                <p class="HeaderForm">
                    درخواست مرخصی روزانه
                    <span title="بستن" ng-click="cancelMissionRequest()">
                        <i class="far fa-close cancelIcon" ></i>
                    </span>
                </p>
                <div class="" ng-init="maskInput()">
                    <form name="CreateDayForm" class="">

                        <div class="row pl-4 pr-4">
                            <div class="col-lg-10 card">
                                <div class="col-12 row">
                                    <div class="col-sm-6 col-md-4">
                                        <div class="mb-1">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text label-width-100px">
                                                        نوع
                                                        مأموریت
                                                    </label>
                                                </div>
                                                <select ng-init="createDayMissionData.dayMissionTypeId = 1"
                                                        name="NGroupMissionType"
                                                        class="form-control form-select text-center"
                                                        ng-model="createDayMissionData.dayMissionTypeId">
                                                    <option ng-repeat="item in selectgroupMissionType"
                                                            ng-value="item.id">{{item.name}}
                                                    </option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-8"
                                         ng-if="createDayMissionData.dayMissionTypeId !=4 && createDayMissionData.dayMissionTypeId !=5">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text label-width-100px">
                                                    واحد اعزام کننده
                                                </label>
                                            </div>
                                            <input class="form-control pointer" name="chartTreeIDNameN"
                                                   autocomplete="off" ng-disabled="SubmitOccured"
                                                   ng-model="createDayMissionData.chartTreeIDName"
                                                   ng-click="showChartFunc()"/>
                                           <span ng-click="showChartFunc()">
                                                <i id="selectCaratArrow"
                                                   class="far fa-chevron-down dropIcon"></i>
                                           </span>
                                           <span ng-if="createDayMissionData.chartTreeID"
                                                 ng-click="clearChart()">
                                                <i class="far fa-times text-danger pointer position-absolute ml-3 mt-2"
                                                   style="left: 0; font-size: 11px; z-index: 10;"
                                                   ></i>
                                           </span>
                                            <div ng-if="showChart" class="selectItem card p-1">
                                                <chart state-select="unit" by-sdate="" by-fdate="" dataunit="dataunit" use-selected-chart="useSelectedChart(dataunit)"></chart>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-6 col-md-4"
                                         ng-if="createDayMissionData.dayMissionTypeId !=4 && createDayMissionData.dayMissionTypeId !=5">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text label-width-100px">
                                                    مقصد مأموریت
                                                </label>
                                            </div>
                                            <input class="form-control pointer" name="NSelectZoneType"
                                                   ng-model="createDayMissionData.locationName"
                                                   autocomplete="off" ng-disabled="SubmitOccured"
                                                   ng-click="showLocationFunc()"/>
                                           <span ng-click="showLocationFunc()">
                                                <i
                                                   class="far fa-chevron-down dropIcon"></i>
                                           </span>
                                            <span ng-if="createDayMissionData.locationID"
                                                  ng-click="cleanLocation()">
                                                <i class="far fa-times text-danger pointer position-absolute ml-3 mt-2"
                                                   style="left: 0; font-size: 11px; z-index: 10;"
                                                   ></i>
                                            </span>
                                            <div ng-if="showLocation" class="selectItemL">
                                                <location data="data"
                                                          use-selected-location="useSelectedLocation(data)"></location>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-8"
                                         ng-if="createDayMissionData.dayMissionTypeId !=4 && createDayMissionData.dayMissionTypeId !=5">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text label-width-100px text-start">
                                                    موضوع ماموریت
                                                </label>
                                            </div>
                                            <input type="text" name="missionHN"
                                                   ng-keyup="AutoCompleteSearchSubjectMission(createDayMissionData.subjectMission)"
                                                   ng-click="AutoCompleteSearchSubjectMission(createDayMissionData.subjectMission)"
                                                   ng-blur="AutoCompleteSearchCreateSubjectMission(createDayMissionData.subjectMission)"
                                                   class="form-control text-center" autocomplete="off"
                                                   ng-disabled="SubmitOccured"
                                                   ng-model="createDayMissionData.subjectMission">
                                        </div>
                                        <div class="card position-absolute"
                                             style="z-index: 100; width: 92%;"
                                             ng-class="{'hidden': !showAutoCompleteSubjectMission}">
                                            <div>
                                                <table class="newTableStyle">
                                                    <thead>
                                                    <tr>
                                                        <td class="w-90">عنوان</td>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr ng-repeat="item in wordListSubjectMission track by item.id"
                                                        ng-click="selectPredictSubjectMission(item.description)">
                                                        <td class="w-90 text-center p-0 pointer">
                                                            <p class="mt-2 p-0">{{item.description}}</p>
                                                        </td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-sm-6 col-md-4">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text label-width-100px">
                                                    تاریخ
                                                    شروع
                                                    مأموریت
                                                </label>
                                            </div>
                                            <input type="text" autocomplete="off"
                                                   class="form-control date-picker text-center"
                                                   ng-class="{'border-danger': CreateDayForm.NStartDate.$invalid}"
                                                   placeholder="xxxx/xx/xx"
                                                   ng-model="createDayMissionData.fromDate" id="startDate" required
                                                   name="NStartDate" ng-disabled="SubmitOccured"
                                                   ng-change="MissionDuration();checkLimitation(createDayMissionData.fromDate)">
                                        </div>
                                    </div>
                                    <div class="col-sm-6 col-md-4">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text label-width-100px">
                                                    تاریخ
                                                    پایان
                                                    مأموریت
                                                </label>
                                            </div>
                                            <input type="text" autocomplete="off"
                                                   class="form-control date-picker text-center"
                                                   ng-class="{'border-danger': CreateDayForm.NEndDate.$invalid}"
                                                   placeholder="xxxx/xx/xx"
                                                   ng-model="createDayMissionData.toDate" id="endDate" required
                                                   name="NEndDate" ng-disabled="SubmitOccured"
                                                   ng-change="MissionDuration()">
                                        </div>
                                    </div>
                                    <div class="col-sm-6 col-md-4">
                                        <div class="mb-1">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text label-width-100px">
                                                        مدت مأموریت
                                                    </label>
                                                </div>
                                                <input class="form-control text-center" readonly autocomplete="off"
                                                       type="text"
                                                       ng-model="createDayMissionData.dayCount">
                                            </div>
                                        </div>

                                    </div>

                                    <div class="col-sm-6 col-md-4"
                                         ng-if="createDayMissionData.dayMissionTypeId !=4 && createDayMissionData.dayMissionTypeId !=5">
                                        <div class="mb-1">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text label-width-100px">
                                                        شماره
                                                        حکم
                                                    </label>
                                                </div>
                                                <input class="form-control text-center" autocomplete="off" type="text"
                                                       ng-disabled="SubmitOccured"
                                                       ng-class="{'border-danger': CreateDayForm.NHokmNO.$invalid}"
                                                       ng-model="createDayMissionData.hokmNO"
                                                       name="NHokmNO">
                                            </div>
                                        </div>

                                    </div>
                                    <div class="col-sm-6 col-md-4"
                                         ng-if="createDayMissionData.dayMissionTypeId !=4 && createDayMissionData.dayMissionTypeId !=5">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text label-width-100px">
                                                    تعداد
                                                    روز
                                                    فاقد
                                                    بیتوته
                                                </label>
                                            </div>
                                            <input id="residenceStatusIsNot" class="text-center form-control"
                                                   ng-disabled="SubmitOccured" autocomplete="off" type="number" min="0"
                                                   ng-model="createDayMissionData.withoutDayCount">
                                        </div>
                                    </div>
                                    <div class="col-sm-6 col-md-4"
                                         ng-if="createDayMissionData.dayMissionTypeId !=4 && createDayMissionData.dayMissionTypeId !=5">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text label-width-100px">
                                                    تعداد
                                                    روز
                                                    دارای
                                                    بیتوته
                                                </label>
                                            </div>
                                            <input id="residenceStatusIs" class="text-center form-control"
                                                   ng-disabled="SubmitOccured" autocomplete="off" type="number" min="0"
                                                   ng-model="createDayMissionData.withDayCount">
                                        </div>
                                    </div>
                                    <div class="col-8"
                                         ng-if="createDayMissionData.dayMissionTypeId !=4 && createDayMissionData.dayMissionTypeId !=5">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text label-width-100px text-start">
                                                    محل اقامت
                                                </label>
                                            </div>
                                            <input type="text" name="missionHN"
                                                   ng-disabled="SubmitOccured"
                                                   ng-keyup="AutoCompleteSearchResidence(createDayMissionData.residence)"
                                                   ng-click="AutoCompleteSearchResidence(createDayMissionData.residence)"
                                                   ng-blur="AutoCompleteSearchCreateResidence(createDayMissionData.residence)"
                                                   class="form-control text-center" autocomplete="off"
                                                   ng-model="createDayMissionData.residence">
                                        </div>
                                        <div class="card position-absolute"
                                             style="z-index: 100; width: 92%;"
                                             ng-class="{'hidden': !showAutoCompleteResidence}">
                                            <div>
                                                <table class="newTableStyle">
                                                    <thead>
                                                    <tr>
                                                        <td class="w-90">عنوان</td>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr ng-repeat="item in wordListResidence track by item.id"
                                                        ng-click="selectPredictResidence(item.description)">
                                                        <td class="w-90 text-center p-0 pointer">
                                                            <p class="mt-2 p-0">{{item.description}}</p>
                                                        </td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-sm-6 col-md-4"
                                         ng-if="createDayMissionData.dayMissionTypeId !=4 && createDayMissionData.dayMissionTypeId !=5">
                                        <div class="mb-1">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text label-width-100px">
                                                        نوع وسیله نقلیه
                                                    </label>
                                                </div>
                                                <select class="form-control form-select text-center"
                                                        ng-disabled="SubmitOccured"
                                                        ng-model="createDayMissionData.vehicleType"
                                                        ng-options="item as item.description for item in vehicleTypesList track by item.id">
                                                </select>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="col-sm-6 col-md-4"
                                         ng-if="createDayMissionData.dayMissionTypeId !=4 && createDayMissionData.dayMissionTypeId !=5">
                                        <div class="mb-1">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text label-width-100px">
                                                        تمدید مدت مأموریت
                                                    </label>
                                                </div>
                                                <input class="form-control text-center" ng-disabled="SubmitOccured"
                                                       autocomplete="off" min="0" type="number"
                                                       ng-model="createDayMissionData.extendMission">
                                            </div>
                                        </div>

                                    </div>


                                    <div class="col-sm-6 col-md-4"
                                         ng-if="createDayMissionData.dayMissionTypeId !=4 && createDayMissionData.dayMissionTypeId !=5">
                                        <div class="mb-1">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text label-width-100px">
                                                        سایر وسایل نقلیه
                                                    </label>
                                                </div>
                                                <input class="form-control text-center" ng-disabled="SubmitOccured"
                                                       autocomplete="off" type="text"
                                                       ng-model="createDayMissionData.otherVehicle">
                                            </div>
                                        </div>

                                    </div>
                                    <div class="col-sm-6 col-md-4"
                                         ng-if="createDayMissionData.dayMissionTypeId !=4 && createDayMissionData.dayMissionTypeId !=5">
                                        <div class="mb-1">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text label-width-100px">
                                                        سایر مقصدها
                                                    </label>
                                                </div>
                                                <input class="form-control text-center" ng-disabled="SubmitOccured"
                                                       autocomplete="off" type="text"
                                                       ng-model="createDayMissionData.otherLocation">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-sm-6 col-md-4"
                                         ng-if="createDayMissionData.dayMissionTypeId !=4 && createDayMissionData.dayMissionTypeId !=5">
                                        <div class="mb-1">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text label-width-100px">
                                                        وسایل موردنیاز
                                                    </label>
                                                </div>
                                                <input class="form-control text-center" ng-disabled="SubmitOccured"
                                                       autocomplete="off" type="text"
                                                       ng-model="createDayMissionData.requiredDevice">
                                            </div>
                                        </div>

                                    </div>
                                    <div class="col-sm-4"
                                         ng-if="createDayMissionData.dayMissionTypeId !=4 && createDayMissionData.dayMissionTypeId !=5">
                                        <div class="row">
                                            <div class="col-sm-6">
                                                <div class="form-check"
                                                     ng-init="createDayMissionData.supplyResidence = false">
                                                    <label class="form-check-label asp-label ml-1"
                                                           for="SupplyResidence">
                                                        تأمین اقامتگاه
                                                    </label>
                                                    <input type="checkbox" ng-disabled="SubmitOccured"
                                                           class="form-check-input"
                                                           ng-model="createDayMissionData.supplyResidence"
                                                           id="SupplyResidence">
                                                </div>
                                            </div>
                                            <div class="col-sm-6">
                                                <div class="form-check" ng-init="createDayMissionData.driving = false">
                                                    <label class="form-check-label asp-label ml-1" for="Driving">
                                                        رانندگی
                                                    </label>
                                                    <input type="checkbox" ng-disabled="SubmitOccured"
                                                           class="form-check-input"
                                                           ng-model="createDayMissionData.driving"
                                                           id="Driving">
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-12">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text label-width-100px">
                                                    توضیحات
                                                </label>
                                            </div>
                                            <input class="form-control" ng-disabled="SubmitOccured"
                                                   ng-model="createDayMissionData.description" autocomplete="off"
                                                   type="text"
                                                   multiple="true" id="description" style="min-height: 50px;">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card col-lg-2" style="height: 350px;">
                                <p class="HeaderForm small-font font-weight-bold">
                                    لیست ترددها در بازه انتخابی
                                </p>
                                <div class="d-flex">
                                    <div class="col-6"><span class="big-font">تاریخ</span></div>
                                    <div class="col-6"><span class="big-font">ساعات</span></div>
                                </div>
                                <div class="selectSideBox" style="overflow-y: auto; overflow-x: hidden">
                                    <div class="row" ng-repeat="item in SideInfoData">
                                        <div class="col-6"><span class="small-font">{{item.PersianDate}}</span></div>
                                        <div class="col-6"><span class="small-font">{{item.AllTimeRollCall}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card">
                            <div class="text-left">
                                <!--<button type="button" class="new-button red ml-1" ng-click="cancelDayMissionCreate()">
                                    <i class="far fa-close"></i> انصراف
                                </button>-->
                                <button ng-if="buttonsArrayShowDayM && !finalRequest"
                                        ng-repeat="item in buttonsArrayDayM track by $index" type="button"
                                        class="new-button ml-1"
                                        ng-click="DynamicConfirmsDayM(item,createDayMissionData)"
                                        ng-class="{'bg-info':item.ActionTypeIdentity === 3,'bg-danger':item.ActionTypeIdentity === 2,'bg-primary':item.ActionTypeIdentity === 1}">
                                    <i ng-class="{'fa-send':item.ActionTypeIdentity === 3,'fa-undo':item.ActionTypeIdentity === 2,'fa-check':item.ActionTypeIdentity === 1}"
                                       class="fa"></i>
                                    {{item.ActionTitle}}
                                    <div class="spinner-border text-warning position-absolute"
                                         style="width: 8px; height: 8px; margin-right: 8px; margin-top: 12px"
                                         ng-if="loadingUpdateDayM"></div>
                                </button>
                                <button ng-if="!buttonsArrayShowDayM && !finalRequest" type="button"
                                        class="new-button green" ng-click="requestDayM(createDayMissionData)"
                                        ng-disabled="IsLimited || CreateDayForm.$invalid">
                                    <i class="far fa-check"></i>ثبت
                                    <!--<div class="spinner-border text-warning position-absolute" style="width: 8px; height: 8px;margin-right: 8px;margin-top: 12px" ng-if="loadingRequestDayM"></div>-->
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
